import{r as t,a5 as f,a8 as v,m as b,u as L,l as s,j as e,a9 as P}from"./index-BZhU-SGz.js";const E=()=>{var c,d;const[o,g]=t.useState(""),[r,u]=t.useState(""),m=f(),p=v(),h=b(),{loading:n,error:l}=L(a=>a.auth),i=((d=(c=p.state)==null?void 0:c.from)==null?void 0:d.pathname)||"/game";t.useEffect(()=>(s.component.mount("LoginPage"),s.component.render("LoginPage"),s.debug("LoginPage","Estado inicial",{from:i}),()=>{s.component.unmount("LoginPage")}),[i]);const x=async a=>{a.preventDefault(),s.info("LoginPage","Intentando login",{email:o});try{await h(P({email:o,password:r})).unwrap(),s.info("LoginPage","Login exitoso, redirigiendo a",i),m(i,{replace:!0})}catch(j){s.error("LoginPage","Error en login",j)}};return e.jsx("div",{className:"login-page",children:e.jsxs("div",{className:"login-container",children:[e.jsx("h1",{children:"Iniciar Sesi칩n"}),l&&e.jsx("div",{className:"error-message",children:l}),e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email:"}),e.jsx("input",{type:"email",id:"email",value:o,onChange:a=>g(a.target.value),required:!0,disabled:n})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Contrase침a:"}),e.jsx("input",{type:"password",id:"password",value:r,onChange:a=>u(a.target.value),required:!0,disabled:n})]}),e.jsx("button",{type:"submit",disabled:n,className:"login-button",children:n?"Iniciando sesi칩n...":"Iniciar Sesi칩n"})]})]})})};export{E as default};
