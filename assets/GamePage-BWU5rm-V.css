:root{--cell-size: 60px;--board-border-radius: 16px;--board-background: linear-gradient(135deg, rgba(40, 53, 80, .9) 0%, rgba(25, 32, 48, .95) 100%);--board-shadow: 0 10px 35px rgba(0, 0, 0, .3);--cell-border: rgba(120, 140, 240, .4);--cell-glow: 0 0 20px rgba(255, 215, 0, .7);--icon-size: 42px;--icon-hover-scale: 1.2;--transition-speed: .4s;--icon-shadow: 0 0 10px rgba(255, 255, 255, .8);--board-grid-gap: 5px;--board-padding: 10px;--cell-background: rgba(60, 65, 120, .2);--cell-empty-background: rgba(40, 45, 80, .15);--cell-empty-border: rgba(100, 120, 255, .2)}.game-board-wrapper{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;border-radius:16px;overflow:visible!important;background-color:#2328414d;border:1px solid rgba(100,130,255,.2);will-change:transform,opacity;transition:all .3s cubic-bezier(.19,1,.22,1)}.game-board-grid{display:grid;gap:var(--board-grid-gap);width:100%;height:100%;padding:var(--board-padding);box-sizing:border-box;position:relative;overflow:visible!important}.game-board{display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;padding:15px;margin:0 auto;border-radius:18px;overflow:visible!important;transition:transform .5s ease;will-change:transform;background-color:#28355099;box-shadow:0 8px 25px #0006;border:2px solid rgba(255,255,255,.2)}.board-row{display:flex;flex-direction:row;justify-content:center;position:relative;overflow:visible!important}.board-container{position:relative;display:flex;flex-direction:column;align-items:center;padding:15px;margin:20px auto;border-radius:var(--board-border-radius);background-color:#283550cc;box-shadow:0 12px 30px #0006;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);max-width:100%;z-index:0;border:2px solid rgba(255,255,255,.2);overflow:visible!important}.empty-board-message{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#ffffffe6;font-size:20px;font-weight:600;text-align:center;padding:25px;background-color:#5e35b180;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:10;width:80%;max-width:400px;box-shadow:0 8px 25px #0000004d;border:2px solid rgba(255,255,255,.2)}.cell{width:100%;height:100%;border-radius:10px;border:1px solid rgba(100,120,255,.3);background-color:#323c6433;display:flex;justify-content:center;align-items:center;position:relative;-webkit-user-select:none;user-select:none}.board-cell{width:100%;height:100%;border-radius:8px;position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:#1e28501a;border:1px solid rgba(100,140,255,.2)}.board-cell .cell-content{font-size:1.8rem;display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:relative;z-index:5}@media (hover: hover){.board-cell:hover,.board-cell:active{background-color:#2832644d;border-color:#648cff4d}.board-cell:hover .cell-content,.board-cell:active .cell-content{transform:scale(1.05);transition:transform .15s ease}}.cell.light{background-color:#3c467826}.cell.dark{background-color:#1e285033}.cell.hint{background-color:#ff06;border-color:#ffff0080}.cell.hint-target{border:2px solid rgba(0,255,0,.7)}.cell.error{background-color:#f006;border-color:#ff000080}.cell.removed,.board-cell.removing{animation:cellCompressionPop .35s ease-in forwards;transform-origin:center;pointer-events:none}.performance-mode .cell.removed,.performance-mode .board-cell.removing{animation:cellCompressionPopLite .25s ease-in forwards}.performance-mode-high .cell.removed,.performance-mode-high .board-cell.removing{opacity:0;animation:none}@keyframes cellCompressionPop{0%{transform:scale(1);opacity:1}70%{transform:scale(.3);opacity:.7}85%{transform:scale(.15);opacity:.5}90%{transform:scale(.2);opacity:.3}to{transform:scale(0);opacity:0}}@keyframes cellCompressionPopLite{0%{transform:scale(1);opacity:1}80%{transform:scale(.2);opacity:.5}to{transform:scale(0);opacity:0}}.board-cell.has-icon{background:#3c467833}.board-cell.penalty-icon{z-index:10;position:relative;animation:penaltyPopError .4s cubic-bezier(.36,.07,.19,.97) both;-webkit-animation:penaltyPopError .4s cubic-bezier(.36,.07,.19,.97) both;transform-origin:center;-webkit-transform-origin:center;border:2px solid rgba(255,50,50,.8)}.board-cell.penalty-fade-out{transition:border-color .5s ease-out;-webkit-transition:border-color .5s ease-out;border-color:transparent}.board-cell.penalty-fade-out .cell-content{transition:color .5s ease-out;-webkit-transition:color .5s ease-out;color:inherit}.board-cell.penalty-icon .cell-content{color:#ff3232;animation:penaltyContentPulse .6s ease forwards;-webkit-animation:penaltyContentPulse .6s ease forwards}.performance-mode .board-cell.penalty-icon{animation:penaltyPopErrorLite .3s ease-out both;-webkit-animation:penaltyPopErrorLite .3s ease-out both;border:1px solid rgba(255,0,0,.6)}.performance-mode .board-cell.penalty-icon .cell-content{animation:none;-webkit-animation:none;color:#f00c}.performance-mode-high .board-cell.penalty-icon{border-color:#ff000080;animation:none;-webkit-animation:none}@keyframes penaltyPopError{0%{transform:scale(.5);-webkit-transform:scale(.5);border-color:#f003}40%{transform:scale(1.08);-webkit-transform:scale(1.08);border-color:#f00c}60%{transform:scale(.96);-webkit-transform:scale(.96);border-color:#f009}80%{transform:scale(1.02);-webkit-transform:scale(1.02);border-color:#ff0000b3}to{transform:scale(1);-webkit-transform:scale(1);border-color:#ff000080}}@-webkit-keyframes penaltyPopError{0%{-webkit-transform:scale(.5);border-color:#f003}40%{-webkit-transform:scale(1.08);border-color:#f00c}60%{-webkit-transform:scale(.96);border-color:#f009}80%{-webkit-transform:scale(1.02);border-color:#ff0000b3}to{-webkit-transform:scale(1);border-color:#ff000080}}@keyframes penaltyContentPulse{0%{transform:scale(.7);-webkit-transform:scale(.7);opacity:.5}50%{transform:scale(1.15);-webkit-transform:scale(1.15);opacity:1}to{transform:scale(1);-webkit-transform:scale(1);opacity:1}}@-webkit-keyframes penaltyContentPulse{0%{-webkit-transform:scale(.7);opacity:.5}50%{-webkit-transform:scale(1.15);opacity:1}to{-webkit-transform:scale(1);opacity:1}}@keyframes penaltyPopErrorLite{0%{transform:scale(.6);-webkit-transform:scale(.6);border-color:#f003}50%{transform:scale(1.05);-webkit-transform:scale(1.05);border-color:#ff0000b3}to{transform:scale(1);-webkit-transform:scale(1);border-color:#ff000080}}@-webkit-keyframes penaltyPopErrorLite{0%{-webkit-transform:scale(.6);border-color:#f003}50%{-webkit-transform:scale(1.05);border-color:#ff0000b3}to{-webkit-transform:scale(1);border-color:#ff000080}}.board-cell.has-icon .cell-content{font-size:2rem}.board-cell.highlighted{background-color:#64c8ff4d;border-color:#64c8ff80}.board-cell.highlighted .cell-content{filter:none}.cell.glow-effect{background-color:#64ff644d;border-color:#64ff6480}.board-cell.potential-match{border-color:#64ff6499}.board-cell.clicking{opacity:.95}.performance-mode,.performance-mode *{animation:none!important;transition:none!important;transform:none!important;box-shadow:none!important;text-shadow:none!important;filter:none!important;opacity:1!important;will-change:auto!important;backdrop-filter:none!important;-webkit-backdrop-filter:none!important}.performance-mode-high .board-cell,.performance-mode-high .cell{border-width:1px!important;border-radius:4px!important}.performance-mode-high .board-cell .cell-content{font-size:1.5rem!important}.cell.empty,.board-cell:not(.has-icon){background:#282d5026;border:1px dashed rgba(100,120,255,.2)}.game-board-grid[style*="repeat(5, 1fr)"] .board-cell .cell-content{font-size:2.2rem}.game-board-grid[style*="repeat(6, 1fr)"] .board-cell .cell-content{font-size:1.8rem}.game-board-grid[style*="repeat(7, 1fr)"] .board-cell .cell-content{font-size:1.7rem}.game-board-grid[style*="repeat(8, 1fr)"] .board-cell .cell-content{font-size:1.5rem}.game-board-grid[style*="repeat(9, 1fr)"] .board-cell .cell-content{font-size:1.3rem}.game-board-grid[style*="repeat(10, 1fr)"] .board-cell .cell-content{font-size:1.1rem}@media (max-width: 768px){.board-cell{border-radius:4px;border-width:1px}.board-cell .cell-content{font-size:90%}}@media screen and (-webkit-min-device-pixel-ratio: 2){.board-cell{border-width:.5px}.cell-content{transform:translateZ(0)}}@media (max-width: 768px){.board-cell.penalty-icon{animation-duration:.3s;-webkit-animation-duration:.3s}.performance-mode .board-cell.penalty-icon{animation-duration:.25s;-webkit-animation-duration:.25s}}.board-cell.new-icon{z-index:5;animation:newIconAppear .4s ease-out forwards;-webkit-animation:newIconAppear .4s ease-out forwards}.board-cell.new-icon .cell-content{animation:newIconContentAppear .4s ease-out forwards;-webkit-animation:newIconContentAppear .4s ease-out forwards}.performance-mode .board-cell.new-icon{animation:newIconAppearLite .25s ease-out forwards;-webkit-animation:newIconAppearLite .25s ease-out forwards}.performance-mode .board-cell.new-icon .cell-content{animation:newIconContentAppearLite .25s ease-out forwards;-webkit-animation:newIconContentAppearLite .25s ease-out forwards}.performance-mode-high .board-cell.new-icon,.performance-mode-high .board-cell.new-icon .cell-content{animation:none;-webkit-animation:none}@keyframes newIconAppear{0%{opacity:0;transform:scale(.6)}70%{opacity:1;transform:scale(1.05)}to{opacity:1;transform:scale(1)}}@-webkit-keyframes newIconAppear{0%{opacity:0;-webkit-transform:scale(.6)}70%{opacity:1;-webkit-transform:scale(1.05)}to{opacity:1;-webkit-transform:scale(1)}}@keyframes newIconContentAppear{0%{opacity:0;transform:scale(.7) translateY(5px)}70%{opacity:1;transform:scale(1.1) translateY(0)}to{opacity:1;transform:scale(1) translateY(0)}}@-webkit-keyframes newIconContentAppear{0%{opacity:0;-webkit-transform:scale(.7) translateY(5px)}70%{opacity:1;-webkit-transform:scale(1.1) translateY(0)}to{opacity:1;-webkit-transform:scale(1) translateY(0)}}@keyframes newIconAppearLite{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@-webkit-keyframes newIconAppearLite{0%{opacity:0;-webkit-transform:scale(.8)}to{opacity:1;-webkit-transform:scale(1)}}@keyframes newIconContentAppearLite{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@-webkit-keyframes newIconContentAppearLite{0%{opacity:0;-webkit-transform:scale(.8)}to{opacity:1;-webkit-transform:scale(1)}}.board-cell.new-icon.penalty-icon,.board-cell.new-icon.penalty-icon .cell-content{animation:none;-webkit-animation:none}.board-controls{display:flex;justify-content:space-between;align-items:center;width:100%;margin:15px 0;padding:10px;background-color:#1e293b80;border-radius:10px;box-shadow:0 4px 12px #0003;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:2}.board-info{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:10px;width:100%}.level-indicator,.icon-count-indicator{font-size:16px;font-weight:600;color:#ffffffe6;padding:8px 12px;background-color:#3c50964d;border-radius:8px;margin:5px 0;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 5px #0003;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);text-shadow:0 1px 2px rgba(0,0,0,.5)}.level-complete-indicator{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px 30px;background-color:#1e961ecc;color:#fff;font-size:24px;font-weight:700;border-radius:12px;box-shadow:0 5px 20px #0006;z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);animation:fadeInScale .5s ease-out}.hint-button{padding:8px 15px;background:linear-gradient(145deg,#5064dccc,#3c50b4e6);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;margin:5px;box-shadow:0 4px 10px #0000004d;position:relative;overflow:hidden}.hint-button:hover{transform:translateY(-2px);box-shadow:0 6px 15px #0006;background:linear-gradient(145deg,#5a6ee6e6,#465ac8)}.hint-button:active{transform:translateY(1px);box-shadow:0 2px 5px #0000004d}.hint-count{display:inline-block;background-color:#fff3;border-radius:50%;width:24px;height:24px;line-height:24px;text-align:center;margin-left:8px;font-size:14px;font-weight:700}.level-transition{animation:levelTransition 1s ease-in-out;transform-origin:center}.speed-buttons{display:flex;justify-content:center;align-items:center;gap:10px;margin:10px 0}.speed-buttons button{padding:8px 15px;background-color:#3c509680;color:#fff;border:none;border-radius:6px;font-size:14px;cursor:pointer;transition:all .2s ease;min-width:60px;box-shadow:0 2px 5px #0003}.speed-buttons button:hover{background-color:#5064c899}.speed-buttons button.active{background-color:#6478ffcc;box-shadow:0 0 10px #6478ff80}.speed-slider{width:100%;margin:15px 0;padding:0 10px}.speed-slider input[type=range]{width:100%;height:8px;border-radius:5px;background:#3c50964d;outline:none;-webkit-appearance:none;cursor:pointer}.speed-slider input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#6496ffcc;cursor:pointer;box-shadow:0 0 5px #6496ff80}.speed-slider input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#6496ffcc;cursor:pointer;border:none;box-shadow:0 0 5px #6496ff80}.value-display{font-size:14px;color:#fffc;text-align:center;margin:5px 0;font-variant-numeric:tabular-nums}.speed-description{font-size:14px;color:#ffffffb3;text-align:center;margin:5px 0;padding:0 10px;font-style:italic}.speed-ms-display{font-size:14px;color:#ffffffe6;background-color:#3c50964d;padding:4px 8px;border-radius:4px;margin:5px auto;display:inline-block;font-variant-numeric:tabular-nums;font-weight:500}.speed-step-controls{display:flex;justify-content:center;align-items:center;gap:10px;margin:10px 0;flex-wrap:wrap}.step-button{width:40px;height:40px;background-color:#3c509680;color:#fff;border:none;border-radius:8px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 5px #0003;font-size:18px}.step-button:hover{background-color:#5064c8b3;transform:translateY(-2px);box-shadow:0 4px 8px #0000004d}.step-button:active{transform:translateY(1px);box-shadow:0 1px 3px #0000004d}.toggle-button{width:80px;height:40px;background:linear-gradient(145deg,#3c8c3ccc,#287828e6);color:#fff;border:none;border-radius:8px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 5px #0003;font-size:14px;font-weight:600}.toggle-button.paused{background:linear-gradient(145deg,#b43c3ccc,#962828e6)}.toggle-button:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000004d;filter:brightness(1.1)}.toggle-button:active{transform:translateY(1px);box-shadow:0 1px 3px #0000004d;filter:brightness(.95)}.game-board-grid[style*="repeat(5, 1fr)"]{gap:min(5px,2vmin)}.game-board-grid[style*="repeat(6, 1fr)"]{gap:min(5px,1.8vmin)}.game-board-grid[style*="repeat(7, 1fr)"]{gap:min(5px,1.5vmin)}.game-board-grid[style*="repeat(8, 1fr)"]{gap:min(5px,1.3vmin)}.game-board-grid[style*="repeat(9, 1fr)"]{gap:min(4px,1.2vmin)}.game-board-grid[style*="repeat(10, 1fr)"]{gap:min(3px,1vmin)}@media (max-width: 768px){.game-board-wrapper{width:min(92vw,92vh,550px);height:min(92vw,92vh,550px);padding:6px}.board-cell .cell-content{font-size:clamp(.7rem,2.2vmin,1.6rem)}.board-controls{flex-direction:column;padding:8px}.hint-button{font-size:14px;padding:6px 12px}}@media (max-width: 480px){.game-board-wrapper{width:min(90vw,90vh,450px);height:min(90vw,90vh,450px);padding:5px;border-radius:15px}.game-board-grid{gap:min(4px,1.2vmin)}.game-board-grid[style*="repeat(8, 1fr)"],.game-board-grid[style*="repeat(9, 1fr)"],.game-board-grid[style*="repeat(10, 1fr)"]{gap:min(3px,.8vmin)}.board-cell .cell-content{border-radius:6px;font-size:clamp(.6rem,2vmin,1.4rem)}.game-cell{border-radius:6px}}@media (max-width: 360px){.game-board-wrapper{width:min(95vw,95vh,320px);height:min(95vw,95vh,320px);padding:4px;border-radius:12px}.game-board-grid{gap:min(3px,1vmin)}.game-board-grid[style*="repeat(7, 1fr)"],.game-board-grid[style*="repeat(8, 1fr)"],.game-board-grid[style*="repeat(9, 1fr)"],.game-board-grid[style*="repeat(10, 1fr)"]{gap:min(2px,.7vmin)}.board-cell .cell-content{border-radius:5px;font-size:clamp(.5rem,1.8vmin,1.2rem)}.game-cell{border-radius:5px}}@media (max-width: 320px){.game-board-wrapper{width:95vw;height:95vw;padding:3px;margin:0 auto;max-width:100%;max-height:90vh}.game-board-grid{gap:2px}.game-cell{border-radius:4px}.board-cell .cell-content{border-radius:4px;font-size:clamp(.5rem,1.5vmin,1rem)}.game-board-grid[style*="repeat(5, 1fr)"],.game-board-grid[style*="repeat(6, 1fr)"],.game-board-grid[style*="repeat(7, 1fr)"],.game-board-grid[style*="repeat(8, 1fr)"],.game-board-grid[style*="repeat(9, 1fr)"],.game-board-grid[style*="repeat(10, 1fr)"]{gap:1px}}@media (min-resolution: 1.3dppx){.board-cell .cell-content{will-change:transform;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;transform:translateZ(0)}}@media (max-height: 500px) and (orientation: landscape){.game-board-wrapper{width:min(80vh,450px);height:min(80vh,450px)}}@media (min-width: 481px){.board-cell.has-icon:nth-child(n+100) .cell-content{font-size:.9em}.board-cell.has-icon:nth-child(n+144) .cell-content{font-size:.85em}}.game-board.large{transform:scale(.9);margin:0 auto;padding:0}.dark-theme .game-board{background-color:#0f172acc;box-shadow:0 8px 30px #0006}.dark-theme .cell.light{background-color:#1e293bcc;border:1px solid rgba(255,255,255,.05)}.dark-theme .cell.dark{background-color:#0f172ae6;border:1px solid rgba(255,255,255,.02)}.dev-toggle-btn{position:absolute;bottom:10px;right:10px;padding:6px 12px;background-color:#1e1e1ecc;color:#fffc;border:1px solid rgba(255,255,255,.2);border-radius:6px;font-size:12px;cursor:pointer;z-index:20;transition:all .2s ease;opacity:.6}.dev-toggle-btn:hover{opacity:1;background-color:#282828e6}.dev-controls{position:absolute;top:20px;right:20px;background-color:#141e32e6;border-radius:8px;padding:15px;box-shadow:0 5px 15px #0000004d;z-index:100;min-width:250px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid rgba(100,130,255,.3);max-height:80vh;overflow-y:auto}.dev-controls-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,.2);font-weight:700;color:#ffffffe6}.close-btn{background:none;border:none;color:#ffffffb3;font-size:18px;cursor:pointer;padding:0;transition:color .2s ease}.close-btn:hover{color:#fff}.dev-controls-body{display:flex;flex-direction:column;gap:15px}.control-group{display:flex;flex-direction:column;gap:5px}.control-group label{font-size:14px;color:#fffc;margin-bottom:5px}.board-size-buttons{display:flex;gap:5px;flex-wrap:wrap}.board-size-buttons button{padding:5px 10px;background-color:#3c509680;color:#fff;border:none;border-radius:4px;font-size:12px;cursor:pointer;transition:all .2s ease;min-width:30px;text-align:center}.board-size-buttons button:hover{background-color:#5064c8b3}.board-size-buttons button.active{background-color:#6478ffcc;box-shadow:0 0 8px #6478ff80}.dev-controls .hint-button{padding:6px 12px;background:linear-gradient(145deg,#5064dcb3,#3c50b4cc);color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;margin:5px 0}.dev-controls .hint-button:hover{background:linear-gradient(145deg,#5a6ee6cc,#465ac8e6);transform:translateY(-1px)}@media (max-width: 480px){.dev-toggle-btn{bottom:5px;right:5px;padding:4px 8px;font-size:10px}.dev-controls{top:10px;right:10px;padding:10px;min-width:200px;max-width:90vw}.board-size-buttons button{padding:4px 8px;font-size:11px}}.control-actions{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}.dev-action-button{padding:6px 12px;background-color:#3c509699;color:#fff;border:none;border-radius:6px;font-size:13px;cursor:pointer;transition:all .2s ease;text-align:center;flex:1;min-width:100px}.dev-action-button:hover{background-color:#5064c8cc;transform:translateY(-2px)}.dev-action-button:active{transform:translateY(1px)}.dev-action-button.hint-button{background:linear-gradient(145deg,#3c8c3cb3,#287828cc)}.dev-action-button.next-level-button{background:linear-gradient(145deg,#8c3c8cb3,#782878cc)}@media (max-width: 480px){.control-actions{flex-direction:column}.dev-action-button{width:100%}.speed-buttons button{padding:4px 8px;font-size:12px;min-width:unset}}.diagnostic-tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}.diagnostic-tools button{padding:5px 10px;background-color:#283250b3;color:#fff;border:1px solid rgba(255,255,255,.1);border-radius:4px;font-size:12px;cursor:pointer;transition:all .2s ease}.diagnostic-tools button:hover{background-color:#3c4664cc;border-color:#fff3}.diagnostic-tools button.active{background-color:#505a8ccc;border-color:#ffffff4d;box-shadow:0 0 8px #505a8c66}@media (max-width: 480px){.diagnostic-tools{gap:5px}.diagnostic-tools button{padding:3px 6px;font-size:10px}}.game-board-wrapper{width:min(95vw,95vh,600px);height:min(95vw,95vh,600px);display:flex;justify-content:center;align-items:center;position:relative;background:#30334e66;border-radius:20px;overflow:visible;padding:8px;box-shadow:0 10px 25px #0000004d;margin:0 auto;aspect-ratio:1 / 1}.game-board-grid{display:grid;gap:min(5px,1.5vmin);width:100%;height:100%;background:transparent;position:relative;z-index:1}.game-cell{border-radius:8px;overflow:visible;position:relative;width:100%;padding-bottom:100%}.cell-content{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:clamp(.7rem,2.2vmin,1.6rem);border-radius:8px;overflow:visible;transition:transform .15s ease,box-shadow .15s ease;will-change:transform;-webkit-font-smoothing:antialiased}:root{--combo-basic-color: #5ee6ff;--combo-uncommon-color: #00b7ff;--combo-rare-color: #b44dff;--combo-epic-color: #ff40ff;--combo-legendary-color: #ffe600;--combo-basic-glow: 0 0 15px rgba(94, 230, 255, .7);--combo-uncommon-glow: 0 0 18px rgba(0, 183, 255, .8);--combo-rare-glow: 0 0 20px rgba(180, 77, 255, .9);--combo-epic-glow: 0 0 25px rgba(255, 64, 255, 1);--combo-legendary-glow: 0 0 30px rgba(255, 230, 0, 1)}.combo-indicator{position:fixed;top:75px;right:15px;z-index:1000;display:flex;align-items:center;width:auto;height:auto;pointer-events:none;-webkit-user-select:none;user-select:none;filter:drop-shadow(0 3px 8px rgba(0,0,0,.7))}.combo-orbital{position:relative;width:72px;height:72px;border-radius:50%;background:linear-gradient(145deg,#0b112af2,#15204ef2);display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden;transition:all .3s ease;box-shadow:inset 0 0 15px #000c}.combo-orbital:before{content:"";position:absolute;top:-4px;left:-4px;right:-4px;bottom:-4px;border-radius:50%;background:transparent;border:3px solid transparent;z-index:1;box-shadow:0 0 15px #000000b3}@keyframes pulse-glow{0%{filter:brightness(1);transform:scale(1)}50%{filter:brightness(1.2);transform:scale(1.05)}to{filter:brightness(1);transform:scale(1)}}.combo-orbital.combo-basic:before{border-color:var(--combo-basic-color);box-shadow:var(--combo-basic-glow)}.combo-orbital.combo-uncommon:before{border-color:var(--combo-uncommon-color);box-shadow:var(--combo-uncommon-glow)}.combo-orbital.combo-rare:before{border-color:var(--combo-rare-color);box-shadow:var(--combo-rare-glow)}.combo-orbital.combo-epic:before{border-color:var(--combo-epic-color);box-shadow:var(--combo-epic-glow);animation:pulse-glow 2s infinite ease-in-out}.combo-orbital.combo-legendary:before{border-color:var(--combo-legendary-color);box-shadow:var(--combo-legendary-glow);animation:pulse-glow 1.5s infinite ease-in-out}.combo-count{position:absolute;top:12px;font-size:20px;font-weight:800;color:#fff;text-shadow:0 0 10px rgba(0,0,0,.8),0 0 5px rgba(0,0,0,1);line-height:1;letter-spacing:-.5px;z-index:10}.combo-multiplier{position:relative;font-size:28px;font-weight:900;color:#fff;text-shadow:0 0 12px rgba(0,0,0,.9),0 0 6px rgba(0,0,0,1);line-height:1;margin:0;z-index:10;transform:scale(1);letter-spacing:-1px}.combo-multiplier:before{content:"";position:absolute;top:50%;left:50%;width:120%;height:120%;transform:translate(-50%,-50%);background:radial-gradient(circle,currentColor 0%,transparent 70%);opacity:.2;z-index:-1;border-radius:50%}.combo-timer-ring{position:absolute;width:calc(100% + 8px);height:calc(100% + 8px);top:-4px;left:-4px;border-radius:50%;pointer-events:none;overflow:hidden;z-index:2;border:3px solid transparent}.combo-timer-fill{position:absolute;width:100%;height:100%;border-radius:50%;opacity:1;transform-origin:center}.combo-timer-fill:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:50%;background:conic-gradient(from 0deg,currentColor 0deg,currentColor var(--angle, 0deg),transparent var(--angle, 0deg));mask:radial-gradient(transparent 62%,black 63% 70%,transparent 71%);-webkit-mask:radial-gradient(transparent 62%,black 63% 70%,transparent 71%)}.combo-orbital.combo-basic .combo-timer-fill,.combo-orbital.combo-basic .combo-multiplier{color:var(--combo-basic-color)}.combo-orbital.combo-uncommon .combo-timer-fill,.combo-orbital.combo-uncommon .combo-multiplier{color:var(--combo-uncommon-color)}.combo-orbital.combo-rare .combo-timer-fill,.combo-orbital.combo-rare .combo-multiplier{color:var(--combo-rare-color)}.combo-orbital.combo-epic .combo-timer-fill,.combo-orbital.combo-epic .combo-multiplier{color:var(--combo-epic-color)}.combo-orbital.combo-legendary .combo-timer-fill,.combo-orbital.combo-legendary .combo-multiplier{color:var(--combo-legendary-color)}.combo-icon{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;font-size:36px;opacity:.15;filter:blur(1px);color:#fff;z-index:2}.combo-orbital.combo-basic .combo-icon{color:var(--combo-basic-color)}.combo-orbital.combo-uncommon .combo-icon{color:var(--combo-uncommon-color)}.combo-orbital.combo-rare .combo-icon{color:var(--combo-rare-color)}.combo-orbital.combo-epic .combo-icon{color:var(--combo-epic-color)}.combo-orbital.combo-legendary .combo-icon{color:var(--combo-legendary-color)}@media (max-width: 480px){.combo-indicator{top:65px;right:10px}.combo-orbital{width:64px;height:64px}.combo-count{top:10px;font-size:18px}.combo-multiplier{font-size:24px}.combo-icon{font-size:32px}}.performance-mode .combo-orbital{animation:none}.performance-mode .combo-orbital:before{animation:none;box-shadow:none}.performance-mode .combo-multiplier:before{display:none}@media (orientation: landscape) and (max-height: 500px){.combo-indicator{top:auto;bottom:15px;right:15px}}:root{--space-primary: #0A1128;--space-secondary: #16213E;--space-accent: #0F52BA;--space-highlight: #00AAFF;--space-danger: #FF1744;--space-success: #00E676;--space-warning: #FFD600;--space-neutral: #7986CB;--score-color: #12EAEA;--level-color: #6D67E4;--time-color: #FF5C8D;--speed-color: #FFF338;--mode-color: #B388FF;--difficulty-color: #29D4F7;--progress-color: #64DFDF;--space-gradient: linear-gradient(135deg, var(--space-primary), var(--space-secondary));--panel-gradient: linear-gradient(180deg, rgba(24, 42, 115, .8), rgba(9, 21, 64, .8));--glow-effect: 0 0 20px rgba(0, 170, 255, .4);--panel-border: 1px solid rgba(99, 197, 255, .3);--panel-radius: 12px}.game-container{width:100%;display:flex;flex-direction:column;align-items:center;position:relative;background-color:var(--space-primary)}.top-bar{width:100%;display:flex;justify-content:space-between;align-items:center;padding:8px 15px;box-sizing:border-box;position:relative;z-index:20;background:#0a1128cc;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-bottom:var(--panel-border);box-shadow:0 4px 12px #00000080}.max-score-container{display:flex;flex-direction:column;align-items:center;background:linear-gradient(145deg,#0af3,#63c5ff1a);padding:6px 12px;border-radius:var(--panel-radius);box-shadow:var(--glow-effect);position:relative;overflow:hidden;border:var(--panel-border);min-width:80px;height:50px;justify-content:center}.max-score-container:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;background:linear-gradient(45deg,rgba(99,197,255,.1),transparent 60%);z-index:-1}.max-score-label{font-size:.65rem;text-transform:uppercase;font-weight:700;color:#fffc;letter-spacing:1px;margin-bottom:2px;text-shadow:0 0 5px rgba(0,170,255,.7)}.max-score-value{font-size:1.2rem;font-weight:700;color:var(--space-highlight);text-shadow:0 0 10px rgba(0,170,255,.8)}.control-buttons{display:flex;gap:10px;align-items:center;height:50px}.control-button{width:42px;height:42px;border-radius:50%;background:linear-gradient(145deg,#0f52ba4d,#1565c01a);border:1px solid rgba(99,197,255,.3);color:#ffffffe6;cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;font-size:1.2rem;box-shadow:var(--glow-effect);overflow:hidden;transition:all .2s ease}.control-button:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at center,rgba(99,197,255,.2),transparent 70%);opacity:0;transition:opacity .2s ease}.control-button:hover{transform:translateY(-2px);box-shadow:0 0 15px #0af9}.control-button:hover:before{opacity:1}.control-button:active{transform:translateY(1px);box-shadow:0 0 10px #0af6}.pause-button{background:linear-gradient(145deg,#0f52ba66,#1565c033)}.restart-button{background:linear-gradient(145deg,#ff17444d,#d500001a)}.settings-button{background:linear-gradient(145deg,#ffd6004d,#ffc1071a)}.game-hud{width:98%;display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin:10px auto;padding:12px;background:var(--panel-gradient);border-radius:var(--panel-radius);box-shadow:0 4px 12px #0006;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:var(--panel-border);position:relative;z-index:10;overflow:hidden}.game-hud:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(circle at 20% 30%,rgba(99,197,255,.05) 0%,transparent 25%),radial-gradient(circle at 80% 40%,rgba(99,197,255,.07) 0%,transparent 30%);z-index:-1;opacity:.8}.hud-item{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px 6px;border-radius:8px;background:#101a3ab3;border:1px solid rgba(99,197,255,.15);transition:all .2s ease;position:relative;overflow:hidden;box-shadow:0 2px 8px #0003}.hud-item:before{content:"";position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,rgba(99,197,255,.5),transparent)}.hud-item.score:before{background:linear-gradient(90deg,transparent,var(--score-color),transparent)}.hud-item.level:before{background:linear-gradient(90deg,transparent,var(--level-color),transparent)}.hud-item.time:before{background:linear-gradient(90deg,transparent,var(--time-color),transparent)}.hud-item.speed:before{background:linear-gradient(90deg,transparent,var(--speed-color),transparent)}.hud-item.mode:before{background:linear-gradient(90deg,transparent,var(--mode-color),transparent)}.hud-item.difficulty:before{background:linear-gradient(90deg,transparent,var(--difficulty-color),transparent)}.hud-item.progress:before{background:linear-gradient(90deg,transparent,var(--progress-color),transparent)}.hud-label{font-size:.65rem;font-weight:600;text-transform:uppercase;color:#ffffffb3;letter-spacing:1px;margin-bottom:4px}.hud-value{font-size:1.3rem;font-weight:700;color:#fff;text-align:center;position:relative}.hud-item.score .hud-value{color:var(--score-color);text-shadow:0 0 8px rgba(18,234,234,.5)}.hud-item.level .hud-value{color:var(--level-color);text-shadow:0 0 8px rgba(109,103,228,.5)}.hud-item.time .hud-value{color:var(--time-color);text-shadow:0 0 8px rgba(255,92,141,.5)}.hud-item.speed .hud-value{color:var(--speed-color);text-shadow:0 0 8px rgba(255,243,56,.5)}.hud-item.mode .hud-value{color:var(--mode-color);text-shadow:0 0 8px rgba(179,136,255,.5)}.hud-item.difficulty .hud-value{color:var(--difficulty-color);text-shadow:0 0 8px rgba(41,212,247,.5)}.hud-item.progress .hud-value{display:flex;flex-direction:column;align-items:center;width:100%}.progress-bar{width:100%;height:8px;background-color:#101a3acc;border-radius:4px;overflow:hidden;margin-bottom:5px;position:relative;border:1px solid rgba(99,197,255,.2)}.progress-fill{height:100%;background:linear-gradient(90deg,#64dfdfcc,#00d4ffe6);border-radius:3px;transition:width .5s ease;box-shadow:0 0 5px #00d4ff80}.progress-fill.progress-achieved{background:linear-gradient(90deg,#ffd600cc,#ffab00e6);box-shadow:0 0 10px #ffd60080}.progress-text{font-size:.8rem;font-weight:600;color:var(--progress-color)}.combo-timer-wrapper{position:fixed;bottom:10px;left:50%;transform:translate(-50%);z-index:100}@media (max-width: 768px){.top-bar{padding:6px 10px}.max-score-container{height:42px;padding:5px 10px}.control-buttons{gap:6px}.control-button{width:38px;height:38px;font-size:1rem}.game-hud{grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(2,auto);padding:8px;gap:6px}.hud-item.progress{grid-column:span 4}.progress-bar{height:10px}.progress-text{font-size:.9rem}}@media (max-width: 480px){.top-bar{padding:4px 8px}.max-score-container{height:38px;padding:4px 8px;min-width:70px}.max-score-label{font-size:.6rem}.max-score-value{font-size:1rem}.control-buttons{gap:4px}.control-button{width:34px;height:34px;font-size:.9rem}.game-hud{grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,auto);gap:6px;padding:6px}.hud-item{padding:6px 4px}.hud-label{font-size:.6rem}.hud-value{font-size:1rem}.hud-item.progress{grid-column:span 3}}@media (max-width: 360px){.game-hud{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(4,auto);gap:4px;padding:5px}.hud-item.progress{grid-column:span 2}.hud-label{font-size:.55rem}.hud-value{font-size:.9rem}}@media (max-height: 500px) and (orientation: landscape){.top-bar{padding:4px 10px}.game-hud{grid-template-columns:repeat(7,1fr);grid-template-rows:1fr;gap:5px;padding:5px}.hud-item{padding:4px 2px}.hud-label{font-size:.55rem;margin-bottom:2px}.hud-value{font-size:.9rem}}.score-change{animation:valueChange .3s ease-out}@keyframes valueChange{0%{transform:scale(1)}50%{transform:scale(1.2);color:var(--space-warning)}to{transform:scale(1)}}:root{--modal-bg-outer: rgba(25, 5, 10, .9);--modal-bg-color: rgba(40, 10, 15, .9);--modal-content-bg: linear-gradient(145deg, rgba(60, 10, 20, .9), rgba(30, 5, 10, .95));--modal-header-bg: rgba(80, 20, 30, .4);--modal-text-color: #ffdcd9;--modal-shadow: 0 8px 32px rgba(0, 0, 0, .5);--modal-item-bg: rgba(90, 20, 30, .3);--modal-border-color: rgba(255, 70, 70, .3);--modal-highlight-color: #ff3a4a;--modal-secondary-color: #ff9c86;--modal-button-gradient: linear-gradient(145deg, #ff4351, #cc2430);--modal-button-shadow: 0 4px 12px rgba(200, 30, 40, .5);--modal-button-hover: linear-gradient(145deg, #ff5666, #e02430);--modal-space-gradient: radial-gradient(circle at center, rgba(60, 20, 30, .6) 0%, rgba(20, 5, 10, .9) 100%);--modal-glow: 0 0 15px rgba(255, 50, 50, .5)}.game-modal.fullscreen-modal{position:fixed;top:0;left:0;width:100%;height:100%;height:100dvh;height:var(--vh, 100vh);display:flex;justify-content:center;align-items:center;z-index:1000;background-color:var(--modal-bg-outer);opacity:0;pointer-events:none;transition:opacity .4s ease-in-out;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);background-image:radial-gradient(1px 1px at 20px 30px,#ffffffe6,#0000),radial-gradient(1px 1px at 40px 70px,#ffffffe6,#0000),radial-gradient(1px 1px at 50px 160px,#ffffffe6,#0000),radial-gradient(1px 1px at 90px 40px,#ffffffe6,#0000),radial-gradient(1px 1px at 130px 80px,#ffffffe6,#0000),radial-gradient(1px 1px at 160px 120px,#ffffffe6,#0000),var(--modal-space-gradient);background-repeat:repeat;background-size:200px 200px;overscroll-behavior:none;padding:0;margin:0;box-sizing:border-box;overflow:hidden}.game-modal.fullscreen-modal.visible{opacity:1;pointer-events:auto}.game-modal.fullscreen-modal.closing{opacity:0;transition:opacity .3s ease-out}.modal-content.game-over-content{width:90%;max-width:450px;height:auto;max-height:90dvh;max-height:calc(var(--vh, 1vh) * 90);background:var(--modal-content-bg);border-radius:20px;box-shadow:var(--modal-shadow),var(--modal-glow);overflow-y:auto;overscroll-behavior:contain;padding:15px;color:var(--modal-text-color);display:flex;flex-direction:column;gap:12px;position:relative;border:1px solid var(--modal-border-color);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);background-image:radial-gradient(circle at 50% 0%,rgba(255,80,80,.15),transparent 80%),radial-gradient(circle at 80% 50%,rgba(255,50,50,.1),transparent 50%);z-index:10;animation:modalAppear .5s ease-out;margin:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:var(--modal-border-color) transparent}.modal-content.game-over-content::-webkit-scrollbar{width:5px}.modal-content.game-over-content::-webkit-scrollbar-track{background:transparent}.modal-content.game-over-content::-webkit-scrollbar-thumb{background-color:var(--modal-border-color);border-radius:20px}.game-over-body{flex:1 1 auto;min-height:0;display:flex;flex-direction:column;gap:10px}@keyframes float{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-15px) rotate(5deg)}50%{transform:translateY(-30px) rotate(-5deg)}75%{transform:translateY(-15px) rotate(3deg)}}@keyframes modalAppear{0%{transform:scale(.9) translateY(20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}.game-over-header{text-align:center;padding:8px;border-radius:15px;background-color:var(--modal-header-bg);margin-bottom:8px;position:relative;overflow:hidden}.game-over-header:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(255,60,60,.2),transparent 70%);animation:rotateGlow 15s linear infinite;pointer-events:none}@keyframes rotateGlow{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.game-over-header h1{font-size:1.8rem;margin:0;color:var(--modal-highlight-color);text-transform:uppercase;font-weight:900;text-shadow:0 0 15px rgba(255,60,60,.7);letter-spacing:1px;background:linear-gradient(to bottom,#f55,#ff1a1a);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;animation:pulsate 2s infinite alternate;line-height:1.1}.game-over-header h2{font-size:1rem;margin:5px 0;color:var(--modal-secondary-color);font-weight:600;line-height:1.2}.main-stats{display:flex;flex-direction:column;gap:10px}.record-score-container{display:flex;align-items:center;justify-content:space-between;background-color:var(--modal-item-bg);border-radius:15px;padding:10px;box-shadow:inset 0 0 10px #0000004d;border:1px solid var(--modal-border-color);position:relative;overflow:hidden}.record-score-container:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-image:radial-gradient(1px 1px at 10% 10%,rgba(255,255,255,.3),transparent),radial-gradient(1px 1px at 20% 50%,rgba(255,255,255,.3),transparent),radial-gradient(1px 1px at 30% 30%,rgba(255,255,255,.3),transparent),radial-gradient(1px 1px at 40% 70%,rgba(255,255,255,.3),transparent),radial-gradient(1px 1px at 60% 40%,rgba(255,255,255,.3),transparent),radial-gradient(1px 1px at 70% 90%,rgba(255,255,255,.3),transparent),radial-gradient(1px 1px at 90% 60%,rgba(255,255,255,.3),transparent);pointer-events:none}.record-badge{display:flex;flex-direction:column;align-items:center;padding:6px 10px;background:linear-gradient(145deg,#3c141eb3,#280a14b3);border-radius:12px;box-shadow:0 4px 8px #0003}.record-icon{font-size:1.2rem;margin-bottom:2px}.record-value{font-size:1.2rem;font-weight:700;color:gold;text-shadow:0 0 5px rgba(255,215,0,.5)}.current-score{display:flex;flex-direction:column;align-items:center;padding-left:12px;border-left:1px solid var(--modal-border-color)}.score-label{font-size:.8rem;margin-bottom:3px;color:var(--modal-text-color);opacity:.7}.score-value{font-size:1.8rem;font-weight:700;color:var(--modal-text-color);line-height:1}.score-value.new-high-score{color:gold;text-shadow:0 0 15px rgba(255,215,0,.7);animation:pulsate 2s infinite alternate}.compact-stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.compact-stat-item{background-color:var(--modal-item-bg);border-radius:10px;padding:8px 5px;display:flex;flex-direction:column;align-items:center;box-shadow:0 4px 8px #0003;border:1px solid var(--modal-border-color);transition:transform .2s ease,box-shadow .2s ease;position:relative;overflow:hidden}.compact-stat-item:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(255,255,255,.1),transparent 70%);opacity:0;transition:opacity .3s ease}.compact-stat-item:hover{transform:translateY(-2px);box-shadow:0 6px 12px #0000004d}.compact-stat-item:hover:before{opacity:1}.compact-stat-icon{font-size:1.1rem;margin-bottom:3px}.compact-stat-value{font-size:1.3rem;font-weight:700;margin-bottom:1px;line-height:1}.compact-stat-label{font-size:.7rem;color:var(--modal-text-color);opacity:.7;text-align:center;line-height:1.1}.game-over-message{background-color:#50141e4d;border-radius:12px;padding:12px;text-align:center;border:1px solid var(--modal-border-color);box-shadow:inset 0 0 10px #0003;line-height:1.3}.game-over-message p{margin:0;font-size:.85rem}.game-session-info{display:flex;flex-wrap:wrap;justify-content:center;gap:5px;margin:5px 0}.info-pill{background-color:#50141e66;border-radius:15px;padding:3px 8px;font-size:.75rem;display:flex;align-items:center;border:1px solid var(--modal-border-color);transition:transform .2s ease,background-color .2s ease}.info-pill:hover{transform:translateY(-2px);background-color:#641e2880}.info-label{margin-right:5px;opacity:.8}.info-value{font-weight:600}.game-end-reason{background-color:#781e2866;border-radius:10px;padding:5px 10px;margin:5px auto;max-width:90%;text-align:center;animation:fadeIn .5s,pulse 2s infinite alternate;border:1px solid var(--modal-border-color)}.game-end-reason p{margin:0;font-size:.8rem;font-weight:500;line-height:1.2}.game-over-buttons{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;margin-top:5px}.game-button{padding:10px 15px;border-radius:30px;border:none;font-weight:600;font-size:.9rem;cursor:pointer;transition:all .3s ease;box-shadow:var(--modal-button-shadow);text-transform:uppercase;letter-spacing:.5px;position:relative;overflow:hidden;width:100%;max-width:250px}.game-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .7s ease}.game-button:hover:before{left:100%}.primary-button{background:var(--modal-button-gradient);color:#fff}.primary-button:hover,.primary-button:focus{background:var(--modal-button-hover);transform:translateY(-2px);box-shadow:0 6px 15px #c81e2899}.secondary-button{background:#50141e80;color:var(--modal-text-color);border:1px solid var(--modal-border-color)}.secondary-button:hover,.secondary-button:focus{background:#641e2899;transform:translateY(-2px)}.combo-basic-text{color:#fff}.combo-uncommon-text{color:#36d1dc}.combo-rare-text{color:#8e2de2}.combo-epic-text{color:#ff2d55}.combo-legendary-text{color:gold}@keyframes pulsate{0%{opacity:.7}to{opacity:1}}@keyframes pulse{0%{transform:scale(1)}to{transform:scale(1.03)}}@media (max-width: 480px){.modal-content.game-over-content{width:95%;padding:12px;gap:8px;max-height:95dvh;max-height:calc(var(--vh, 1vh) * 95)}.game-over-header{padding:6px;margin-bottom:6px}.game-over-header h1{font-size:1.5rem}.game-over-header h2{font-size:.9rem;margin:3px 0}.record-score-container{padding:8px}.record-badge{padding:4px 8px}.record-icon{font-size:1rem;margin-bottom:1px}.record-value{font-size:1.1rem}.score-label{font-size:.7rem;margin-bottom:1px}.score-value{font-size:1.6rem}.compact-stat-icon{font-size:1rem;margin-bottom:2px}.compact-stat-value{font-size:1.2rem}.compact-stat-label{font-size:.65rem}.game-over-message{padding:8px}.game-over-message p{font-size:.8rem}.info-pill{padding:2px 6px;font-size:.7rem}.game-end-reason{padding:4px 8px}.game-end-reason p{font-size:.75rem}.game-button{padding:8px 12px;font-size:.85rem}}@media (max-width: 375px) and (max-height: 667px){.game-modal.fullscreen-modal{padding:5px}.modal-content.game-over-content{width:98%;max-height:96dvh;max-height:calc(var(--vh, 1vh) * 96);padding:10px;gap:5px}.game-over-header{padding:5px;margin-bottom:5px}.game-over-header h1{font-size:1.35rem}.game-over-header h2{font-size:.8rem;margin:2px 0}.game-over-body,.main-stats{gap:6px}.record-score-container{padding:6px}.score-value{font-size:1.5rem}.compact-stats-grid{gap:5px}.compact-stat-item{padding:5px 3px}.compact-stat-icon{font-size:.9rem;margin-bottom:1px}.compact-stat-value{font-size:1.1rem}.compact-stat-label{font-size:.6rem}.game-over-message{padding:6px;line-height:1.2}.game-over-message p{font-size:.75rem}.info-pill{padding:2px 5px;font-size:.65rem}.game-session-info{gap:3px;margin:3px 0}.game-end-reason{padding:3px 6px;margin:3px auto}.game-end-reason p{font-size:.7rem}.game-over-buttons{gap:6px;margin-top:3px}.game-button{padding:7px 10px;font-size:.8rem;max-width:220px}}@media (max-height: 568px){.modal-content.game-over-content{max-height:97dvh;max-height:calc(var(--vh, 1vh) * 97);padding:8px;gap:4px}.game-over-header{padding:4px;margin-bottom:4px}.game-over-body,.main-stats{gap:4px}.record-badge{padding:3px 6px}.compact-stats-grid{gap:4px}.game-over-message{padding:6px}.game-end-reason{margin:2px auto}.game-over-buttons{gap:5px}.game-button{padding:6px 10px}}@supports (-webkit-touch-callout: none){.game-modal.fullscreen-modal{height:-webkit-fill-available}.modal-content.game-over-content{max-height:calc(95 * var(--vh, 1vh))}@media (max-height: 667px){.modal-content.game-over-content{max-height:calc(96 * var(--vh, 1vh))}}@media (max-height: 568px){.modal-content.game-over-content{max-height:calc(97 * var(--vh, 1vh))}}}:root{--space-bg-dark: #020818;--space-bg-medium: #061128;--space-bg-light: #0c1d42;--space-accent: #5272e4;--space-glow: rgba(82, 114, 228, .6);--space-highlight: #7a9bf8;--space-text: #ffffff;--space-card-bg: rgba(10, 21, 56, .7);--nebula-color-1: rgba(223, 72, 172, .25);--nebula-color-2: rgba(86, 156, 214, .25);--nebula-color-3: rgba(255, 140, 66, .15);--star-color: rgba(255, 255, 255, .9);--level-star-color: #ffd700;--level-star-shadow: 0 0 20px rgba(255, 215, 0, .7);--level-button-bg-start: #ffb300;--level-button-bg-end: #ff9800;--level-button-shadow: 0 5px 15px rgba(255, 152, 0, .4);--level-success-color: #4CD964;--vh: 1vh;--card-border-radius: 12px;--card-shadow: 0 5px 15px rgba(93, 178, 255, .2);--badge-shadow: 0 3px 6px rgba(0, 0, 0, .2);--badge-border: 1px solid rgba(255, 255, 255, .1);--content-padding: 12px;--icon-small: 18px;--icon-medium: 24px;--icon-large: 32px;--rarity-common-color: #9e9e9e;--rarity-common-glow: rgba(158, 158, 158, .5);--rarity-uncommon-color: #4CAF50;--rarity-uncommon-glow: rgba(76, 175, 80, .5);--rarity-rare-color: #2196F3;--rarity-rare-glow: rgba(33, 150, 243, .5);--rarity-epic-color: #9C27B0;--rarity-epic-glow: rgba(156, 39, 176, .5);--rarity-legendary-color: #FF9800;--rarity-legendary-glow: rgba(255, 152, 0, .7);--safe-bottom: env(safe-area-inset-bottom, 0px);--stat-score-color: #ff5722;--stat-score-gradient: linear-gradient(135deg, #ff5722, #ff9800);--stat-time-color: #42a5f5;--stat-time-gradient: linear-gradient(135deg, #42a5f5, #29b6f6);--stat-combo-color: #ffdd00;--stat-combo-gradient: linear-gradient(135deg, #ffdd00, #ffa000);--stat-moves-color: #e040fb;--stat-moves-gradient: linear-gradient(135deg, #e040fb, #d500f9);--stat-speed-color: #4ede4e;--stat-speed-gradient: linear-gradient(135deg, #4ede4e, #00c853)}.game-modal.fullscreen-modal{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000;background-color:#000000b3;opacity:0;transition:opacity .3s ease}.game-modal.fullscreen-modal.visible{opacity:1}@keyframes modalEnter{0%{transform:translateY(50px) scale(.9);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.level-complete-content.animate-in{animation:modalEnter .3s forwards ease-out}.level-complete-content{--modal-bg-color: rgba(10, 20, 30, .85);--modal-content-width: min(95%, 450px);--modal-border-radius: 16px;--header-bg-color: rgba(20, 30, 50, .5);--header-text-color: #fff;--stars-color: #ffd700;--stars-shadow: 0 0 15px rgba(255, 215, 0, .8);--tab-active-color: #4CAF50;--tab-inactive-color: #7b7b7b;--section-title-color: #4CAF50;--stat-card-bg: rgba(0, 0, 0, .2);--button-primary-bg: linear-gradient(135deg, #4CAF50, #2E7D32);--button-primary-color: #fff;--button-secondary-bg: rgba(0, 0, 0, .3);--button-secondary-color: #fff;position:relative;width:var(--modal-content-width);max-width:95vw;height:auto;max-height:85vh;max-height:calc(var(--vh, 1vh) * 85);background-color:var(--modal-bg-color);border-radius:var(--modal-border-radius);overflow:hidden;display:flex;flex-direction:column;box-shadow:0 5px 25px #00000080,0 0 40px #4caf504d;color:#fff;padding:0;border:1px solid rgba(255,255,255,.1);transform:translateY(50px) scale(.9);opacity:0;transition:transform .3s ease,opacity .3s ease;z-index:10}.level-complete-background{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 50% 10%,rgba(76,175,80,.3) 0%,transparent 50%),radial-gradient(circle at 85% 20%,rgba(255,215,0,.2) 0%,transparent 45%),radial-gradient(circle at 15% 80%,rgba(33,150,243,.15) 0%,transparent 45%);z-index:0}.confetti-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;overflow:hidden}.confetti{position:absolute;width:10px;height:10px;background-color:#fd6;top:-10px;animation:fall linear forwards;opacity:.7}@keyframes fall{0%{top:-10px;transform:rotate(0) translate(0);opacity:.7}to{top:110%;transform:rotate(720deg) translate(calc(var(--translate, 0) * 100px));opacity:0}}@keyframes float{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-15px) rotate(4deg)}to{transform:translateY(0) rotate(0)}}.floating-icon{position:absolute;z-index:0;animation:float 3s ease-in-out infinite;pointer-events:none;opacity:.3}.level-header{background-color:var(--header-bg-color);padding:.6rem .75rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1);position:relative;z-index:5}.level-transition{display:flex;align-items:center;gap:6px;font-weight:700;font-size:1.1rem}.previous-level{opacity:.7}.level-arrow{font-size:1.2em;margin:0 2px;color:#4caf50}.next-level{color:#4caf50;text-shadow:0 0 8px rgba(76,175,80,.5)}.pulse-animation{animation:pulse 2s infinite}@keyframes pulse{0%{box-shadow:0 0 #ffd700b3}70%{box-shadow:0 0 0 10px #ffd70000}to{box-shadow:0 0 #ffd70000}}.stars-container{display:flex;gap:3px}.level-star{width:22px;height:22px;color:#ffd7004d;filter:saturate(0) brightness(.5);transform:scale(.8);transition:all .5s ease;transition-delay:var(--delay, 0s)}.level-star.earned{color:var(--stars-color);filter:drop-shadow(var(--stars-shadow));transform:scale(1)}.modal-tabs{display:flex;border-bottom:1px solid rgba(255,255,255,.1);background:linear-gradient(to bottom,#101830f2,#0a1432cc);position:relative;z-index:5}.tab-button{flex:1;padding:.6rem .5rem;background:none;border:none;color:var(--tab-inactive-color);font-weight:700;cursor:pointer;transition:all .3s ease;font-size:.9rem;text-transform:uppercase;letter-spacing:.5px}.tab-button.active{color:var(--tab-active-color);border-bottom:2px solid var(--tab-active-color);box-shadow:0 8px 8px -8px #4caf5080}.modal-sections{padding:.5rem;flex:1;max-height:calc(85vh - 110px);display:flex;flex-direction:column;overflow-y:auto;position:relative;z-index:5;background-color:#0a141ed9}.results-section{display:flex;flex-direction:column;gap:.5rem;position:relative;z-index:5}.victory-banner{text-align:center;margin-bottom:.5rem;background:linear-gradient(to bottom,rgba(76,175,80,.2),transparent);padding:.5rem;border-radius:8px;position:relative;z-index:5}.victory-icon{font-size:1.8rem;margin-bottom:.25rem;display:inline-block;filter:drop-shadow(0 0 8px rgba(255,215,0,.6))}.victory-title{font-size:1.3rem;margin:0;color:#fff;text-shadow:0 0 10px rgba(76,175,80,.6);font-weight:700;letter-spacing:.5px}.main-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-bottom:.5rem;position:relative;z-index:5}.stat-card{background-color:var(--stat-card-bg);padding:1.2rem .25rem .6rem;border-radius:10px;text-align:center;display:flex;flex-direction:column;position:relative;overflow:hidden;box-shadow:0 3px 12px #0006;border:1px solid rgba(255,255,255,.15);z-index:5}.stat-card.score{background:var(--stat-card-bg);border-top:3px solid var(--stat-score-color)}.stat-card.time{background:var(--stat-card-bg);border-top:3px solid var(--stat-time-color)}.stat-card.combo{background:var(--stat-card-bg);border-top:3px solid var(--stat-combo-color)}.stat-card:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.15;z-index:0;border-radius:0 0 8px 8px}.stat-card.score:before{background:var(--stat-score-gradient)}.stat-card.time:before{background:var(--stat-time-gradient)}.stat-card.combo:before{background:var(--stat-combo-gradient)}.stat-value{font-size:1.4rem;font-weight:700;margin-bottom:.1rem;position:relative;z-index:1;text-shadow:0 2px 4px rgba(0,0,0,.5)}.stat-label{font-size:.8rem;opacity:.95;position:relative;z-index:1;text-transform:uppercase;letter-spacing:.8px;font-weight:600}.combo-legendary-text{color:#fd0!important;text-shadow:0 0 8px rgba(255,221,0,.6)}.combo-epic-text{color:#e040fb!important;text-shadow:0 0 8px rgba(224,64,251,.6)}.combo-rare-text{color:#42a5f5!important;text-shadow:0 0 8px rgba(66,165,245,.6)}.combo-uncommon-text{color:#4ede4e!important;text-shadow:0 0 8px rgba(78,222,78,.6)}.combo-basic-text{color:#fff!important;text-shadow:0 0 8px rgba(255,255,255,.6)}.detailed-stats.compact{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:.7rem;position:relative;z-index:5}.stat-row{display:flex;align-items:center;background-color:var(--stat-card-bg);padding:.6rem .5rem;border-radius:8px;gap:.5rem;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,.15);box-shadow:0 3px 8px #0000004d;z-index:5}.stat-row:nth-child(1):before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--stat-moves-gradient);opacity:.15;z-index:0}.stat-row:nth-child(2):before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--stat-speed-gradient);opacity:.15;z-index:0}.stat-icon{font-size:1.1rem;background-color:#0006;border-radius:50%;width:28px;height:28px;display:flex;align-items:center;justify-content:center;z-index:1}.stat-row:nth-child(1) .stat-icon{color:var(--stat-moves-color);box-shadow:0 0 0 1px var(--stat-moves-color),0 0 8px #e040fb80}.stat-row:nth-child(2) .stat-icon{color:var(--stat-speed-color);box-shadow:0 0 0 1px var(--stat-speed-color),0 0 8px #4ede4e80}.stat-row .stat-label{flex:1;text-align:left;font-size:.85rem;font-weight:600;letter-spacing:.5px;opacity:.95;white-space:nowrap;z-index:1}.stat-row .stat-value{font-size:1rem;font-weight:700;margin-bottom:0;white-space:nowrap;z-index:1;text-shadow:0 2px 4px rgba(0,0,0,.5)}.rewards-section{margin-top:.25rem;position:relative;z-index:5}.section-title{font-size:1.05rem;color:var(--section-title-color);margin:0 0 .5rem;text-align:center;text-transform:uppercase;letter-spacing:1px;text-shadow:0 2px 4px rgba(0,0,0,.4);font-weight:700}.rewards-grid.adaptive{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;justify-content:center;position:relative;z-index:5}.reward-card{background-color:var(--stat-card-bg);border-radius:10px;padding:.6rem .25rem;text-align:center;transition:all .3s ease;box-shadow:0 3px 8px #0006;position:relative;overflow:hidden;z-index:5}.reward-card.common{border:1px solid var(--rarity-common-color)}.reward-card.uncommon{border:1px solid var(--rarity-uncommon-color)}.reward-card.rare{border:1px solid var(--rarity-rare-color)}.reward-card.epic{border:1px solid var(--rarity-epic-color)}.reward-card.legendary{border:2px solid var(--rarity-legendary-color);background:linear-gradient(var(--stat-card-bg),var(--stat-card-bg)),linear-gradient(45deg,#ffd7004d,#ff98004d)}.reward-card:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;opacity:.15;z-index:0}.reward-card.common:before{background:radial-gradient(circle at 50% 20%,#fff 0%,transparent 70%)}.reward-card.uncommon:before{background:radial-gradient(circle at 50% 20%,var(--rarity-uncommon-color) 0%,transparent 70%)}.reward-card.rare:before{background:radial-gradient(circle at 50% 20%,var(--rarity-rare-color) 0%,transparent 70%)}.reward-card.epic:before{background:radial-gradient(circle at 50% 20%,var(--rarity-epic-color) 0%,transparent 70%)}.reward-card.legendary:before{background:radial-gradient(circle at 50% 20%,var(--rarity-legendary-color) 0%,transparent 70%);opacity:.3}.reward-icon{font-size:1.5rem;margin-bottom:.2rem;position:relative;z-index:1;filter:drop-shadow(0 2px 6px rgba(0,0,0,.6))}.reward-card.common .reward-icon{filter:drop-shadow(0 0 5px var(--rarity-common-glow))}.reward-card.uncommon .reward-icon{filter:drop-shadow(0 0 5px var(--rarity-uncommon-glow))}.reward-card.rare .reward-icon{filter:drop-shadow(0 0 5px var(--rarity-rare-glow))}.reward-card.epic .reward-icon{filter:drop-shadow(0 0 5px var(--rarity-epic-glow))}.reward-card.legendary .reward-icon{filter:drop-shadow(0 0 8px var(--rarity-legendary-glow))}.reward-amount{font-weight:700;font-size:1.15rem;position:relative;z-index:1;margin-bottom:.1rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.reward-name{font-size:.75rem;opacity:.95;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;z-index:1;text-transform:uppercase;letter-spacing:.8px;font-weight:600}.reward-card.common .reward-name{color:var(--rarity-common-color)}.reward-card.uncommon .reward-name{color:var(--rarity-uncommon-color)}.reward-card.rare .reward-name{color:var(--rarity-rare-color)}.reward-card.epic .reward-name{color:var(--rarity-epic-color)}.reward-card.legendary .reward-name{color:var(--rarity-legendary-color)}.preview-section.compact{display:flex;flex-direction:column;gap:8px;position:relative;z-index:5}.section-subtitle,.preview-subtitle{font-size:.95rem;color:#fff;margin:0 0 .25rem}.preview-subtitle{font-size:.85rem;opacity:.9}.difficulty-indicator{display:flex;align-items:center;gap:8px;background-color:var(--stat-card-bg);padding:.4rem;border-radius:6px}.difficulty-indicator span{font-size:.8rem;opacity:.9}.difficulty-bars{display:flex;gap:3px}.difficulty-bar{width:12px;height:8px;background-color:#fff3;border-radius:2px}.difficulty-bar.active{background-color:var(--level-success-color);box-shadow:0 0 5px #4ede4e99}.new-icons-preview.compact{background-color:var(--stat-card-bg);border-radius:6px;padding:.4rem}.icons-grid.compact{display:flex;flex-wrap:wrap;gap:6px;justify-content:flex-start}.new-icon-card{width:36px;height:36px;background-color:#ffffff14;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:1.1rem}.level-objectives.compact{background-color:var(--stat-card-bg);border-radius:6px;padding:.4rem}.objectives-list{display:flex;flex-direction:column;gap:6px}.objective-item{display:flex;align-items:center;background-color:#ffffff14;padding:.4rem;border-radius:4px}.objective-icon{margin-right:.5rem;font-size:1rem}.objective-desc{flex:1;font-size:.8rem}.objective-target{font-weight:700;font-size:.8rem}.action-buttons{display:flex;gap:8px;padding:.5rem;margin-top:.25rem;border-top:1px solid rgba(255,255,255,.15);background:linear-gradient(to top,#101830f2,#0a1432cc);position:relative;z-index:6}.continue-button{flex:2;padding:.7rem;background:var(--button-primary-bg);color:var(--button-primary-color);border:none;border-radius:6px;font-weight:700;cursor:pointer;transition:all .3s ease;font-size:.95rem;box-shadow:0 3px 8px #0006,0 0 10px #4ede4e4d;text-transform:uppercase;letter-spacing:.8px;text-shadow:0 1px 2px rgba(0,0,0,.2);position:relative;z-index:5}.menu-button{flex:1;padding:.7rem;background-color:var(--button-secondary-bg);color:var(--button-secondary-color);border:none;border-radius:6px;font-weight:700;cursor:pointer;transition:all .3s ease;font-size:.9rem;box-shadow:0 3px 6px #0000004d;letter-spacing:.5px;position:relative;z-index:5}.continue-button:hover,.menu-button:hover{filter:brightness(1.1);transform:translateY(-1px)}.continue-button:hover{box-shadow:0 4px 12px #0006,0 0 15px #4ede4e66}.continue-button:active,.menu-button:active{transform:translateY(1px);filter:brightness(.95)}.stat-icon-badge{position:absolute;top:-10px;left:50%;transform:translate(-50%);font-size:1.1rem;background-color:var(--stat-card-bg);width:26px;height:26px;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0006;z-index:6;border:2px solid}.stat-card.score .stat-icon-badge{border-color:var(--stat-score-color);color:var(--stat-score-color);box-shadow:0 2px 8px #0006,0 0 8px #ff572266}.stat-card.time .stat-icon-badge{border-color:var(--stat-time-color);color:var(--stat-time-color);box-shadow:0 2px 8px #0006,0 0 8px #42a5f566}.stat-card.combo .stat-icon-badge{border-color:var(--stat-combo-color);color:var(--stat-combo-color);box-shadow:0 2px 8px #0006,0 0 8px #fd06}@keyframes medalSpin{0%{transform:translate(-50%) rotateY(0)}to{transform:translate(-50%) rotateY(360deg)}}.stat-icon-badge{animation:medalSpin 2s infinite linear;animation-play-state:paused}.stat-card:hover .stat-icon-badge{animation-play-state:running}@media (max-width: 320px){.level-star{width:18px;height:18px}.level-transition{font-size:.9rem}.tab-button{font-size:.8rem;padding:.5rem .3rem}.stat-value{font-size:1rem}.stat-label{font-size:.7rem}.stat-icon-badge{width:22px;height:22px;font-size:1rem;top:-8px}}@media (max-height: 600px){.level-header{padding:.4rem .6rem}.victory-icon{font-size:1.25rem;margin-bottom:.1rem}.victory-title,.stat-value{font-size:1rem}.section-title{margin-bottom:.3rem}.reward-icon{font-size:1.1rem}}.modal-sections:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#0a141e33;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);z-index:1;pointer-events:none}:root{--space-bg-dark: #020818;--space-bg-medium: #061128;--space-bg-light: #0c1d42;--space-accent: #5272e4;--space-glow: rgba(82, 114, 228, .6);--space-highlight: #7a9bf8;--space-text: #ffffff;--space-card-bg: rgba(10, 21, 56, .7);--space-button-gradient: linear-gradient(135deg, #4776ff 0%, #3f5dce 100%);--nebula-color-1: rgba(223, 72, 172, .25);--nebula-color-2: rgba(86, 156, 214, .25);--nebula-color-3: rgba(255, 140, 66, .15);--star-color: rgba(255, 255, 255, .9);--vh: 1vh}.start-game{position:fixed;top:0;left:0;width:100%;height:100%;height:calc(var(--vh, 1vh) * 100);display:flex;justify-content:center;align-items:center;z-index:1000;background:var(--space-bg-dark);overflow:hidden;opacity:1;transition:opacity .3s ease}.start-game.closing{opacity:0}.start-game:after{content:"";position:absolute;top:-50%;left:-50%;right:-50%;bottom:-50%;background:radial-gradient(circle at 20% 35%,var(--nebula-color-1),transparent 25%),radial-gradient(circle at 75% 44%,var(--nebula-color-2),transparent 30%),radial-gradient(circle at 46% 65%,var(--nebula-color-3),transparent 30%);opacity:.4;z-index:-1;animation:nebulaAnimation 60s ease-in-out infinite alternate}.start-game:before{animation:twinkleAnimation 10s linear infinite,cometAnimation 20s linear infinite}@keyframes cometAnimation{0%{background-position:0 0}5%{background-position:30% 20%}7%{background-image:radial-gradient(2px 2px at 20px 30px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 40px 70px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 50px 160px,var(--star-color),rgba(0,0,0,0)),radial-gradient(3px 3px at 70px 80px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 90px 40px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 110px 90px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 130px 160px,var(--star-color),rgba(0,0,0,0)),radial-gradient(3px 3px at 150px 100px,var(--star-color),rgba(0,0,0,0)),linear-gradient(to right,var(--star-color),transparent 10%,transparent 100%);background-position:75% 25%}10%{background-image:radial-gradient(2px 2px at 20px 30px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 40px 70px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 50px 160px,var(--star-color),rgba(0,0,0,0)),radial-gradient(3px 3px at 70px 80px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 90px 40px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 110px 90px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 130px 160px,var(--star-color),rgba(0,0,0,0)),radial-gradient(3px 3px at 150px 100px,var(--star-color),rgba(0,0,0,0));background-position:80% 30%}to{background-position:200px 200px}}.start-game-body{width:100%;height:100%;max-width:900px;max-height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1}.main-screen{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:40px}.logo-container{position:relative;text-align:center;margin-bottom:30px}.logo-text{font-size:5.5rem;font-weight:800;letter-spacing:2px;color:var(--space-text);text-shadow:0 0 10px var(--space-accent),0 0 20px var(--space-glow),0 0 30px var(--space-glow);margin:0;padding:0;transform-origin:center;animation:logoGlow 3s ease-in-out infinite alternate}.logo-pulse{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;border-radius:50%;background:transparent;border:3px solid transparent;box-shadow:0 0 60px var(--space-glow);opacity:.7;animation:logoPulse 2s cubic-bezier(.4,0,.6,1) infinite alternate}@keyframes logoGlow{0%{text-shadow:0 0 10px var(--space-accent),0 0 20px var(--space-glow),0 0 30px var(--space-glow)}to{text-shadow:0 0 15px var(--space-accent),0 0 30px var(--space-glow),0 0 40px var(--space-glow),0 0 50px var(--space-accent)}}@keyframes logoPulse{0%{opacity:.5;transform:translate(-50%,-50%) scale(.9)}to{opacity:.2;transform:translate(-50%,-50%) scale(1.2)}}.main-buttons{display:flex;flex-direction:column;gap:20px;width:100%;max-width:300px}.main-button{background:linear-gradient(135deg,#4776ff,#3f5dce);color:#fff;border:none;padding:16px 30px;border-radius:30px;font-size:1.2rem;font-weight:600;letter-spacing:1px;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #1b263133,0 0 10px var(--space-glow);position:relative;overflow:hidden;text-shadow:0 1px 2px rgba(0,0,0,.3)}.main-button:before{content:"";position:absolute;top:-100%;left:-100%;width:300%;height:300%;background:linear-gradient(115deg,transparent 0%,transparent 40%,rgba(255,255,255,.3) 50%,transparent 60%,transparent 100%);transition:all .6s ease;transform:rotate(45deg)}.main-button:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 8px 20px #1b26314d,0 0 15px var(--space-highlight);background:linear-gradient(135deg,#5282ff,#506fcf)}.main-button:hover:before{top:-30%;left:-30%;transition:all .6s ease}.main-button:active{transform:translateY(1px) scale(.98);box-shadow:0 3px 10px #1b263133}.play-button{background:linear-gradient(135deg,#5282ff,#4265dc);font-size:1.4rem;padding:18px 30px;animation:pulseButton 2s infinite alternate}@keyframes pulseButton{0%{box-shadow:0 5px 15px #1b263133,0 0 10px var(--space-glow)}to{box-shadow:0 5px 15px #1b26314d,0 0 20px var(--space-accent)}}.floating-star{position:absolute;background-color:var(--star-color);border-radius:50%;box-shadow:0 0 5px var(--star-color),0 0 10px var(--space-accent);animation:floatStar linear infinite;z-index:0}@keyframes floatStar{0%{opacity:0;transform:translateY(100vh) translate(-10vw) rotate(0)}10%{opacity:1}90%{opacity:1}to{opacity:0;transform:translateY(-100vh) translate(10vw) rotate(360deg)}}.options-screen,.credits-screen{width:100%;max-width:800px;height:100%;max-height:90vh;padding:20px;position:relative;display:flex;flex-direction:column;overflow-y:auto;background:#061128b3;border-radius:20px;box-shadow:0 0 30px #5272e44d;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);animation:fadeIn .6s ease-out}.screen-header{display:flex;justify-content:space-between;align-items:center;padding:0 10px 15px;margin-bottom:20px;border-bottom:1px solid rgba(124,155,248,.3)}.screen-title{font-size:2.2rem;color:var(--space-text);text-shadow:0 0 10px var(--space-accent);margin:0;padding:0;letter-spacing:1px}.back-button{background:transparent;color:var(--space-text);border:1px solid var(--space-accent);border-radius:8px;padding:10px 15px;font-size:1rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px}.back-button:hover{background:#5272e41a;box-shadow:0 0 15px var(--space-glow);transform:translateY(-2px)}.settings-content{padding:10px;display:flex;flex-direction:column;gap:25px;flex:1;overflow-y:auto}.settings-option{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:#0c1d4299;border-radius:12px;box-shadow:0 4px 10px #0003;transition:all .3s ease}.settings-option:hover{background:#0c1d42cc;transform:translateY(-2px);box-shadow:0 6px 15px #00000040}.setting-label{font-size:1.2rem;color:var(--space-text);font-weight:500}.setting-toggle{background:linear-gradient(135deg,#283654,#1a2440);color:var(--space-text);border:none;padding:10px 20px;min-width:80px;border-radius:20px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0003}.setting-toggle.active{background:linear-gradient(135deg,#4776ff,#3f5dce);box-shadow:0 0 15px var(--space-glow)}.setting-toggle:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000004d}.settings-section{padding:20px;background:#0c1d4299;border-radius:12px;margin-top:15px}.settings-section-title{font-size:1.4rem;color:var(--space-text);margin-top:0;margin-bottom:15px;text-shadow:0 0 8px var(--space-accent)}.settings-info{font-size:1rem;color:var(--space-text);line-height:1.6}.credits-content{padding:10px;display:flex;flex-direction:column;gap:15px;flex:1;overflow-y:auto}.credits-title{font-size:2.5rem;color:var(--space-text);text-align:center;margin:10px 0;text-shadow:0 0 15px var(--space-accent);animation:creditsTitleGlow 3s infinite alternate}@keyframes creditsTitleGlow{0%{text-shadow:0 0 10px var(--space-accent)}to{text-shadow:0 0 20px var(--space-accent),0 0 30px var(--space-glow)}}.credits-subtitle{font-size:1.2rem;color:var(--space-text);text-align:center;margin:5px 0 15px;opacity:.9}.credits-name{font-size:1.4rem;color:var(--space-highlight);text-align:center;margin:10px 0;font-weight:600;text-shadow:0 0 8px rgba(82,114,228,.7)}.credits-section{font-size:1.2rem;color:var(--space-text);margin:25px 0 5px;text-align:center;padding:5px;background:#5272e41a;border-radius:8px}.credits-text{font-size:1rem;color:var(--space-text);text-align:center;margin:5px 0;line-height:1.6}.version-info{margin-top:40px;padding-top:20px;border-top:1px solid rgba(124,155,248,.3);text-align:center;font-size:.9rem;color:var(--space-text);opacity:.7}.version-info p{margin:5px 0}@media (max-width: 768px){.logo-text{font-size:4rem}.main-button{padding:14px 28px;font-size:1.1rem}.play-button{font-size:1.3rem;padding:16px 28px}.screen-title{font-size:1.8rem}.credits-title{font-size:2rem}.settings-option{padding:12px 15px}.setting-label{font-size:1.1rem}}@media (max-width: 480px){.logo-text{font-size:3rem}.main-button{padding:12px 24px;font-size:1rem}.play-button{font-size:1.2rem;padding:14px 26px}.screen-title{font-size:1.5rem}.back-button{padding:8px 12px;font-size:.9rem}.settings-option{padding:10px 12px}.setting-label{font-size:1rem}.credits-title{font-size:1.8rem}.credits-name{font-size:1.2rem}}@supports (-webkit-touch-callout: none){.start-game{height:-webkit-fill-available}.options-screen,.credits-screen{max-height:80vh}}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}:root{--space-bg-dark: #020818;--space-bg-medium: #061128;--space-bg-light: #0c1d42;--space-accent: #5272e4;--space-glow: rgba(82, 114, 228, .6);--space-highlight: #7a9bf8;--space-text: #ffffff;--space-card-bg: rgba(10, 21, 56, .7);--space-tutorial-gradient: linear-gradient(135deg, #16213e 0%, #253b73 100%);--space-button-gradient: linear-gradient(135deg, #4776ff 0%, #3f5dce 100%);--nebula-color-1: rgba(223, 72, 172, .25);--nebula-color-2: rgba(86, 156, 214, .25);--nebula-color-3: rgba(255, 140, 66, .15);--star-color: rgba(255, 255, 255, .9);--vh: 1vh;--card-border-radius: 15px;--card-shadow: 0 5px 15px rgba(93, 178, 255, .2)}.play-screen{position:relative;width:100%;height:100vh;height:calc(var(--vh, 1vh) * 100);background:linear-gradient(180deg,var(--space-bg-dark) 0%,var(--space-bg-medium) 50%,var(--space-bg-light) 100%);color:var(--space-text);display:flex;flex-direction:column;overflow:hidden}.play-screen:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(1px 1px at 20px 30px,var(--star-color),rgba(0,0,0,0)),radial-gradient(1px 1px at 90px 40px,var(--star-color),rgba(0,0,0,0)),radial-gradient(1px 1px at 160px 120px,var(--star-color),rgba(0,0,0,0)),radial-gradient(2px 2px at 200px 30px,var(--star-color),rgba(0,0,0,0)),radial-gradient(1.5px 1.5px at 70px 200px,var(--star-color),rgba(0,0,0,0)),radial-gradient(1px 1px at 250px 220px,var(--star-color),rgba(0,0,0,0));background-repeat:repeat;background-size:300px 300px;opacity:.8;z-index:0;will-change:opacity;animation:twinkleAnimation 4s ease-in-out infinite}.play-screen:after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 20%,var(--nebula-color-1),transparent 20%),radial-gradient(circle at 70% 60%,var(--nebula-color-2),transparent 30%);opacity:.5;z-index:0}@keyframes twinkleAnimation{0%,to{opacity:.7}50%{opacity:1}}.game-header{display:flex;justify-content:space-between;align-items:center;padding:10px;z-index:1;background:#030b1cd9;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-bottom:1px solid rgba(82,114,228,.3)}.header-title{font-size:1.4rem;margin:0;text-align:center;color:var(--space-text);text-shadow:0 0 10px var(--space-glow);font-weight:600}.back-button{background:transparent;border:none;color:var(--space-text);font-size:1.5rem;cursor:pointer;padding:5px 10px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s}.back-button:hover{background:#5272e433;transform:scale(1.1)}.header-spacer{width:40px}.game-selection-container{flex:1;padding:10px;z-index:1;display:flex;flex-direction:column;height:calc(100% - 120px);overflow:hidden}.new-player-message{background:#5272e433;border-radius:10px;padding:8px 10px;margin-bottom:8px;border-left:3px solid var(--space-accent);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.new-player-message p{margin:0;font-size:.85rem}.section-header{display:flex;align-items:center;margin-bottom:8px;position:relative}.section-title{font-size:1.2rem;margin:6px 8px 6px 0;color:#fff;font-weight:600;text-shadow:0 0 15px var(--space-accent),0 0 5px var(--space-glow);letter-spacing:.5px;position:relative;padding-left:3px;animation:titlePulse 5s ease-in-out infinite;will-change:text-shadow}.section-title:before{content:"";position:absolute;left:-5px;top:50%;transform:translateY(-50%);width:3px;height:70%;background:linear-gradient(to bottom,rgba(82,114,228,0),var(--space-accent),rgba(82,114,228,0));border-radius:3px}.section-header:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background:linear-gradient(to right,transparent,rgba(82,114,228,.3),transparent)}.tooltip-container{position:relative;display:inline-block;margin-left:8px;vertical-align:middle}.info-icon-container{cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.info-icon{color:var(--space-accent);font-size:1rem;transition:all .3s ease;filter:drop-shadow(0 0 3px var(--space-glow))}.info-icon:hover{transform:scale(1.2);color:var(--space-highlight);filter:drop-shadow(0 0 5px var(--space-accent))}.tooltip{position:absolute;width:280px;max-height:350px;background:linear-gradient(135deg,#0f172af2,#0a0f1efa);border:1px solid var(--space-border);border-radius:10px;padding:0;filter:drop-shadow(0 0 10px rgba(0,0,0,.5));z-index:1000;overflow:hidden;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 10px 25px #00000080,inset 0 0 20px #5272e41a;animation:fadeIn .3s ease-out;transform-origin:top center}.tooltip-header{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:linear-gradient(90deg,#29408ccc,#5272e480);border-bottom:1px solid var(--space-border)}.tooltip-title{font-size:1rem;font-weight:600;color:#fff;text-shadow:0 0 5px var(--space-glow);flex:1}.tooltip-close-btn{background:transparent;border:none;color:#fffc;cursor:pointer;font-size:.9rem;padding:2px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .3s ease;width:24px;height:24px}.tooltip-close-btn:hover{background:#fff3;color:#fff;transform:rotate(90deg)}.tooltip-content{padding:12px;color:var(--space-text);font-size:.9rem;line-height:1.5;max-height:300px;overflow-y:auto;overflow-x:hidden;scrollbar-width:thin;scrollbar-color:var(--space-accent) rgba(10,20,40,.5);-webkit-overflow-scrolling:touch}.tooltip-top{bottom:calc(100% + 10px);left:50%;transform:translate(-50%)}.tooltip-bottom{top:calc(100% + 10px);left:50%;transform:translate(-50%)}.tooltip-left{right:calc(100% + 10px);top:50%;transform:translateY(-50%)}.tooltip-right{left:calc(100% + 10px);top:50%;transform:translateY(-50%)}.tooltip:before{content:"";position:absolute;border:8px solid transparent}.tooltip-top:before{border-top-color:var(--space-border);bottom:-16px;left:50%;transform:translate(-50%)}.tooltip-bottom:before{border-bottom-color:var(--space-border);top:-16px;left:50%;transform:translate(-50%)}.tooltip-left:before{border-left-color:var(--space-border);right:-16px;top:50%;transform:translateY(-50%)}.tooltip-right:before{border-right-color:var(--space-border);left:-16px;top:50%;transform:translateY(-50%)}@keyframes fadeIn{0%{opacity:0;transform:scale(.9) translateY(-10px)}to{opacity:1;transform:scale(1) translateY(0)}}@media (max-width: 768px){.tooltip{width:250px;max-height:300px}.tooltip-top,.tooltip-bottom{left:50%;transform:translate(-50%)}.tooltip-left,.tooltip-right{left:-150px;top:100%;transform:translateY(10px)}.tooltip-left:before,.tooltip-right:before{border-color:transparent;border-bottom-color:var(--space-border);left:80%;top:-16px;transform:translate(-50%)}}@media (max-width: 480px){.tooltip{width:230px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);max-height:80vh}.tooltip:before{display:none}.tooltip-content{max-height:calc(80vh - 40px)}}.tooltip-mode-item,.tooltip-difficulty-item{margin-bottom:12px;padding:8px;border-radius:6px;background:#0a1e3c66;box-shadow:inset 0 0 5px #0003;position:relative;transition:all .3s ease}.tooltip-mode-item:hover,.tooltip-difficulty-item:hover{background:#29408c4d;transform:translate(3px)}.tooltip-mode-name,.tooltip-difficulty-name{font-weight:700;margin-right:5px;display:block;margin-bottom:4px;position:relative}.tooltip-mode-name,.tooltip-difficulty-name{color:var(--space-highlight);text-shadow:0 0 5px rgba(122,155,248,.7)}@keyframes tooltipFadeIn{0%{opacity:0;transform:translateY(10px) scale(.95);filter:blur(5px)}to{opacity:1;transform:translateY(0) scale(1);filter:blur(0)}}.tooltip-mode-item:hover .tooltip-mode-name,.tooltip-difficulty-item:hover .tooltip-difficulty-name{color:#fff;transform:translate(3px)}.tooltip{animation:tooltipGlow 5s infinite alternate}@keyframes tooltipGlow{0%{box-shadow:0 10px 25px #00000080,0 2px 10px #5272e44d}to{box-shadow:0 10px 30px #0009,0 2px 15px #5272e499}}.section-title{animation:titlePulse 5s ease-in-out infinite;will-change:text-shadow}@keyframes titlePulse{0%,to{text-shadow:0 0 8px var(--space-accent),0 0 2px var(--space-glow)}50%{text-shadow:0 0 12px var(--space-accent),0 0 5px var(--space-glow)}}.mode-icon-container{position:relative;z-index:3;display:flex;align-items:center;justify-content:center;width:100%;height:100%;transition:opacity .3s ease}.mode-icon{font-size:1.8rem;color:#fff;filter:drop-shadow(0 0 5px rgba(255,255,255,.7));transition:transform .3s ease,filter .3s ease;will-change:transform}.tutorial-icon{color:gold;filter:drop-shadow(0 0 5px rgba(255,215,0,.7))}.classic-icon{color:#5dc2f1;filter:drop-shadow(0 0 5px rgba(93,194,241,.7))}.timed-icon{color:#9d65ff;filter:drop-shadow(0 0 5px rgba(157,101,255,.7))}.survival-icon{color:#ff5c5c;filter:drop-shadow(0 0 5px rgba(255,92,92,.7))}.zen-icon{color:#4cd964;filter:drop-shadow(0 0 5px rgba(76,217,100,.7))}.mode-shine-effect{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#fff0,#ffffff08,#ffffff14,#ffffff08,#fff0);z-index:4;opacity:0;transition:opacity .3s ease;pointer-events:none}.game-option.active .mode-icon-container{opacity:1}.game-option.active .mode-icon{transform:scale(1.15);filter:drop-shadow(0 0 8px rgba(255,255,255,.8))}.game-option.active .mode-shine-effect{opacity:.8}.game-option:hover .mode-icon-container{opacity:.9}.game-option:hover .mode-shine-effect{opacity:.4}@keyframes shineEffect{0%,to{opacity:.4}50%{opacity:.8}}.recommended-badge{position:absolute;top:8px;right:8px;background:linear-gradient(135deg,gold,#fa0);color:#000;padding:2px 6px;border-radius:8px;font-size:.65rem;font-weight:700;letter-spacing:-.2px;text-transform:uppercase;box-shadow:0 2px 4px #0000004d;animation:pulseBadge 3s ease-in-out infinite;z-index:5;will-change:transform}@keyframes pulseBadge{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.difficulty-section{margin-bottom:10px}.difficulty-options{display:flex;justify-content:space-between;gap:5px}.difficulty-option{position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s;width:50px;height:50px;border-radius:50%;background:var(--space-card-bg);border:1px solid rgba(122,155,248,.3);box-shadow:0 4px 8px #0000004d;overflow:hidden}.difficulty-icon-container{position:relative;z-index:3;display:flex;align-items:center;justify-content:center;width:100%;height:100%;transition:opacity .3s ease}.difficulty-icon{font-size:1.6rem;color:#fff;filter:drop-shadow(0 0 5px rgba(255,255,255,.7));transition:transform .3s ease,filter .3s ease;will-change:transform}.very-easy-icon{color:#4cd964;filter:drop-shadow(0 0 5px rgba(76,217,100,.7))}.easy-icon{color:#5dc2f1;filter:drop-shadow(0 0 5px rgba(93,194,241,.7))}.medium-icon{color:#fc0;filter:drop-shadow(0 0 5px rgba(255,204,0,.7))}.hard-icon{color:#ff9500;filter:drop-shadow(0 0 5px rgba(255,149,0,.7))}.very-hard-icon{color:#ff3b30;filter:drop-shadow(0 0 5px rgba(255,59,48,.7))}.difficulty-shine-effect{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#fff0,#ffffff08,#ffffff14,#ffffff08,#fff0);z-index:4;opacity:0;transition:opacity .3s ease;pointer-events:none}.difficulty-option:hover{transform:translateY(-3px);box-shadow:0 5px 15px #0003}.difficulty-option:hover .difficulty-icon{transform:scale(1.1)}.difficulty-option:hover .difficulty-shine-effect{opacity:.4}.difficulty-option.active{border-color:#ffffff80;transform:translateY(-3px)}.difficulty-option.active .difficulty-icon{transform:scale(1.15)}.difficulty-option.active .difficulty-shine-effect{opacity:.8}@media (max-width: 480px){.game-option{height:60px;padding-right:5px}.game-option.tutorial{height:80px}.game-option-image{width:50px;margin-right:5px}.game-option.tutorial .game-option-image{width:60px}.game-option-title{font-size:.85rem}.mode-icon{font-size:1.5rem}.difficulty-option{width:40px;height:40px}.difficulty-icon{font-size:1.3rem}.difficulty-options{justify-content:space-around}.tooltip-icon{font-size:.8rem}}@media (max-height: 700px){.game-option{height:50px}.game-option.tutorial{height:70px}.game-option-image{width:45px}.game-option.tutorial .game-option-image{width:55px}.game-option-title{font-size:.8rem}.mode-icon{font-size:1.4rem}.difficulty-option{width:38px;height:38px}.difficulty-icon{font-size:1.2rem}.section-title{margin:3px 0;font-size:1rem}.unified-description-container p{-webkit-line-clamp:3;font-size:.85rem}.fixed-start-button-container{padding:8px}.start-button{padding:10px}}.description-section{margin-bottom:5px;flex-grow:1;max-height:25%;overflow:hidden}.unified-description-container{background:var(--space-card-bg);border-radius:12px;padding:10px;margin-bottom:5px;border:1px solid rgba(122,155,248,.3);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);height:100%;overflow:hidden}.mode-title{margin-top:0;margin-bottom:5px;font-size:1rem;color:var(--space-text);font-weight:600}.unified-description-container p{margin:0;font-size:.9rem;line-height:1.3;overflow:hidden;display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical}.fixed-start-button-container{position:fixed;bottom:0;left:0;right:0;padding:10px;background:#030b1cd9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:10;border-top:1px solid rgba(82,114,228,.3)}.start-button{width:100%;padding:12px;border-radius:12px;background:var(--space-button-gradient);color:#fff;font-weight:700;border:none;font-size:1.1rem;cursor:pointer;transition:all .3s ease;text-shadow:0 1px 2px rgba(0,0,0,.3);box-shadow:0 4px 10px #415bb780}.start-button:hover{transform:translateY(-2px);box-shadow:0 6px 15px #415bb7b3}.start-button.disabled{background:linear-gradient(135deg,#6a6a6a,#4a4a4a);opacity:.7;cursor:not-allowed}.floating-star{position:absolute;background-color:gold;box-shadow:0 0 4px 1px #ffd70099;border-radius:50%;pointer-events:none;z-index:0;animation:floatStar linear infinite;will-change:transform,opacity}@keyframes floatStar{0%{transform:translateY(100vh) translate(0);opacity:0}10%{opacity:.8}90%{opacity:.8}to{transform:translateY(-50px) translate(30px);opacity:0}}.game-option.classic .game-option-title{color:#5dc2f1;text-shadow:0 0 8px rgba(93,194,241,.8)}.game-option.timed .game-option-title{color:#9d65ff;text-shadow:0 0 8px rgba(157,101,255,.8)}.game-option.survival .game-option-title{color:#ff5c5c;text-shadow:0 0 8px rgba(255,92,92,.8)}.game-option.zen .game-option-title{color:#4cd964;text-shadow:0 0 8px rgba(76,217,100,.8)}.modes-section{margin-bottom:10px}.modes-grid{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:auto auto;gap:10px;grid-template-areas:"tutorial tutorial" "classic timed" "survival zen"}.game-option{position:relative;height:70px;border-radius:12px;display:flex;align-items:center;cursor:pointer;transition:all .5s ease;overflow:hidden;border:1px solid rgba(122,155,248,.3);box-shadow:0 4px 8px #0000004d;background-color:var(--space-card-bg);transform-style:preserve-3d;padding-right:10px}.game-option-image{position:relative;width:60px;height:100%;flex-shrink:0;background-position:center;background-size:cover;border-right:1px solid rgba(122,155,248,.2);margin-right:10px;display:flex;align-items:center;justify-content:center;overflow:hidden}.game-option-image:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#00071466;transition:all .5s ease;z-index:1}.game-option-title{flex-grow:1;font-size:.95rem;font-weight:600;color:var(--space-text);text-shadow:0 0 10px rgba(82,114,228,.8);text-align:center;transition:all .5s ease;z-index:2;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding:0 5px}.game-option.tutorial .game-option-image{background-image:url(/assets/images/tutorial.jpg)}.game-option.classic .game-option-image{background-image:url(/assets/images/classic.jpg)}.game-option.timed .game-option-image{background-image:url(/assets/images/timeattack.jpg)}.game-option.survival .game-option-image{background-image:url(/assets/images/survival.jpg)}.game-option.zen .game-option-image{background-image:url(/assets/images/zen.jpg)}.game-option:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 7px 14px #0006;border-color:var(--space-highlight)}.game-option:hover .game-option-image:after{background:#00071433}.game-option:hover .game-option-title{text-shadow:0 0 15px rgba(122,155,248,1);letter-spacing:.5px}.game-option.active{transform:translateY(-3px) scale(1.05);border:2px solid var(--space-accent);box-shadow:0 0 20px var(--space-glow),0 0 30px var(--space-glow)}.game-option.active .game-option-image:after{background:#00071400}.game-option.active .game-option-title{font-weight:700;letter-spacing:1px;transform:scale(1.1);text-shadow:0 0 10px #fff,0 0 20px var(--space-accent),0 0 30px var(--space-accent)}.game-option.locked{filter:grayscale(.9) brightness(.5);opacity:.6;cursor:not-allowed}.game-option.locked .game-option-image:after{background:#000000b3}.mode-lock-icon{font-size:1.5rem;color:#ffffffb3;position:absolute;z-index:3}.game-option.tutorial{grid-area:tutorial;height:90px;position:relative;border-color:#daa5204d}.game-option.tutorial .game-option-image{width:80px;border-color:#daa52099;background-color:#1e285080}.game-option.tutorial .game-option-title{font-size:1.1rem;font-weight:700;color:gold;text-shadow:0 0 8px rgba(255,215,0,.8)}.game-option.classic{grid-area:classic}.game-option.timed{grid-area:timed}.game-option.survival{grid-area:survival}.game-option.zen{grid-area:zen}.tooltip-icon{margin-right:5px;color:var(--space-accent);filter:drop-shadow(0 0 5px var(--space-glow));font-size:.9rem;vertical-align:middle;transition:all .3s ease}.tooltip-mode-item:hover .tooltip-icon,.tooltip-difficulty-item:hover .tooltip-icon{transform:scale(1.2) rotate(5deg);color:#fff;filter:drop-shadow(0 0 8px var(--space-accent))}@media (max-width: 480px){.section-title{font-size:1.1rem}.tooltip-title{font-size:.9rem}.info-icon{font-size:.9rem;height:10px;width:10px}.tooltip-mode-item,.tooltip-difficulty-item{padding:6px;margin-bottom:8px}}.tutorial-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:9999;pointer-events:auto}.tutorial-overlay.interactive{background-color:#0003;pointer-events:none}.tutorial-card{background:linear-gradient(135deg,#1a2a3a,#0d1520);color:#fff;border-radius:12px;padding:24px;width:90%;max-width:500px;box-shadow:0 10px 25px #00000080;border:2px solid #ff9c00;transform:translateY(0);animation:tutorialCardAppear .5s ease-out}.tutorial-overlay.interactive .tutorial-card{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:90%;width:450px;pointer-events:auto}.tutorial-mini-button{position:fixed;bottom:20px;right:20px;background:linear-gradient(135deg,#ff9c00,#ff6a00);color:#fff;border-radius:24px;padding:8px 16px;display:flex;align-items:center;gap:8px;box-shadow:0 4px 12px #0000004d;cursor:pointer;z-index:9999;transition:transform .3s ease;font-size:.9rem;font-weight:700;animation:fadeIn .5s ease-in}.tutorial-mini-button:hover{transform:translateY(-3px);box-shadow:0 6px 15px #0006}.tutorial-mini-icon{font-size:1.2rem}@keyframes tutorialCardAppear{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.tutorial-title{font-size:1.8rem;color:#ff9c00;margin-bottom:16px;text-align:center;text-shadow:0 2px 4px rgba(0,0,0,.5)}.tutorial-content{font-size:1.1rem;line-height:1.6;margin-bottom:20px}.tutorial-content p{margin-bottom:12px}.tutorial-content strong{color:#ff9c00;font-weight:700}.tutorial-button{background:linear-gradient(135deg,#333f4f,#1e2a3a);color:#fff;border:none;border-radius:6px;padding:10px 20px;font-size:1rem;cursor:pointer;transition:all .3s ease;margin-top:10px;box-shadow:0 2px 5px #0000004d}.tutorial-button:hover{background:linear-gradient(135deg,#3a4a5f,#293848);transform:translateY(-2px)}.tutorial-button-primary{background:linear-gradient(135deg,#ff9c00,#ff6a00);color:#fff;border:none;border-radius:6px;padding:12px 24px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;margin-top:15px;box-shadow:0 3px 7px #0000004d}.tutorial-button-primary:hover{background:linear-gradient(135deg,#ffb13d,#ff7e28);transform:translateY(-2px);box-shadow:0 5px 10px #0006}.tutorial-note{font-style:italic;color:#bbb;font-size:.9rem;margin-top:15px}.tutorial-help-message{background-color:#ff9c0026;border-left:4px solid #ff9c00;padding:12px 15px;margin-top:15px;margin-bottom:15px;color:#ff9c00;font-weight:700;animation:fadeIn .5s ease-in;border-radius:4px}.tutorial-help-message p{margin-bottom:8px}.tutorial-help-message p:last-child{margin-bottom:0}.combo-basic-text{color:#5dc2f1;font-weight:700}.combo-uncommon-text{color:#9d65ff;font-weight:700}.combo-rare-text{color:#ff9500;font-weight:700}.combo-epic-text{color:#ff3b30;font-weight:700}.combo-legendary-text{color:gold;font-weight:700}.tutorial-success-message{background-color:#2ecc7133;border-left:4px solid #2ecc71;padding:10px 15px;margin-top:15px;color:#2ecc71;font-weight:700;animation:fadeIn .5s ease-in}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.tutorial-completion-modal{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1100;animation:fadeIn .5s ease-in}.tutorial-completion-content{background:linear-gradient(135deg,#2a3b4a,#1d2b3a);border-radius:15px;padding:30px;width:90%;max-width:550px;text-align:center;box-shadow:0 10px 30px #000000b3;border:2px solid #ff9c00;animation:modalAppear .7s ease-out}@keyframes modalAppear{0%{opacity:0;transform:scale(.8)}70%{opacity:1;transform:scale(1.05)}to{transform:scale(1)}}.tutorial-completion-content h2{font-size:2.2rem;color:#ff9c00;margin-bottom:20px;text-shadow:0 2px 5px rgba(0,0,0,.5)}.tutorial-completion-content p{font-size:1.2rem;color:#fff;margin-bottom:15px;line-height:1.6}.tutorial-completion-button{background:linear-gradient(135deg,#ff9c00,#ff6a00);color:#fff;border:none;border-radius:10px;padding:15px 30px;font-size:1.3rem;font-weight:700;cursor:pointer;transition:all .3s ease;margin-top:25px;box-shadow:0 5px 15px #ff9c0066}.tutorial-completion-button:hover{background:linear-gradient(135deg,#ffb13d,#ff7e28);transform:translateY(-3px) scale(1.05);box-shadow:0 7px 20px #ff9c0080}@media (max-width: 600px){.tutorial-card,.tutorial-completion-content{width:95%;padding:15px}.tutorial-title{font-size:1.5rem}.tutorial-content{font-size:1rem}.tutorial-completion-content h2{font-size:1.8rem}.tutorial-completion-content p{font-size:1rem}.tutorial-completion-button{font-size:1.1rem;padding:12px 24px}.tutorial-overlay.interactive .tutorial-card{bottom:10px;width:95%}}.tutorial-content ul{text-align:left;margin:15px 0;padding-left:20px}.tutorial-content li{margin-bottom:8px;position:relative;padding-left:5px}.tutorial-content li:before{content:"•";color:#ff9c00;font-weight:700;display:inline-block;width:1em;margin-left:-1em}.tutorial-highlight-pulse{position:relative;z-index:10;animation:tutorialHighlightPulse 1.5s ease-in-out infinite;box-shadow:0 0 15px 5px #ff9c00b3!important;border:2px solid #ff9c00!important;transform:scale(1.1);transition:all .3s ease}@keyframes tutorialHighlightPulse{0%{box-shadow:0 0 15px 5px #ff9c0080}50%{box-shadow:0 0 25px 8px #ff9c00cc}to{box-shadow:0 0 15px 5px #ff9c0080}}.cell-click-indicator{position:absolute;top:-25px;left:50%;transform:translate(-50%);background-color:#ff9c00;color:#000;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:700;white-space:nowrap;box-shadow:0 2px 5px #0000004d;z-index:100;pointer-events:none;animation:floatUpDown 2s ease-in-out infinite}.cell-click-indicator:after{content:"";position:absolute;bottom:-5px;left:calc(50% - 5px);width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #ff9c00}@keyframes floatUpDown{0%,to{transform:translate(-50%) translateY(0)}50%{transform:translate(-50%) translateY(-5px)}}.dev-controls-container{position:fixed;top:10px;left:10px;display:flex;gap:10px;z-index:10000;flex-direction:column}.fps-counter{background:#000000b3;color:#4cff9b;padding:8px 12px;border-radius:6px;font-size:.9rem;font-weight:700;display:flex;flex-direction:column;align-items:flex-start;box-shadow:0 2px 5px #0000004d;border:1px solid rgba(255,255,255,.15);text-shadow:0 0 5px rgba(76,255,155,.5);letter-spacing:.5px;min-width:120px;position:absolute;top:5px;left:5px;z-index:10000}.fps-counter.warning{color:#ffde59}.fps-counter.critical{color:#ff5e5e}.dev-controls-toggle{background:#000000b3;color:#fff;padding:8px 12px;border-radius:6px;font-size:.9rem;font-weight:700;cursor:pointer;box-shadow:0 2px 5px #0000004d;border:1px solid rgba(255,255,255,.15);transition:all .2s ease;align-self:flex-start}.dev-controls-toggle:hover{background:#141414cc;transform:translateY(-2px)}@media (max-width: 768px){.dev-controls-container{top:5px;left:5px;gap:5px}.fps-counter,.dev-controls-toggle{padding:6px 8px;font-size:.8rem}}@media (max-width: 480px){.fps-counter,.dev-controls-toggle{padding:4px 6px;font-size:.75rem;min-width:100px}}.fps-counter.detailed{padding:8px;min-width:150px}.fps-details{display:flex;flex-direction:column;gap:3px;text-align:left}.fps-counter.fps-good{background-color:#008000b3}.fps-counter.fps-medium{background-color:#ffa500b3}.fps-counter.fps-bad{background-color:#ff0000b3}.fps-counter.lite-mode{border:2px solid #ffcc00}.fps-counter.normal-mode{border:2px solid #4cff9b}.performance-indicator{color:#fc0;font-weight:700;margin-top:3px;font-size:11px;display:block;width:100%}.performance-indicator.normal{color:#4cff9b}.fps-counter.critical-mode{border:2px solid #ff3333;box-shadow:0 0 8px #ff333380}.performance-indicator.critical{color:#f33}.mode-indicator{font-size:.8rem;margin-top:4px;font-weight:700;display:block;width:100%}.fps-label{display:flex;justify-content:space-between;width:100%}.avg-fps{margin-left:5px;font-size:.75rem;opacity:.85}.game-page{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;width:100vw;overflow:hidden;padding:0;margin:0;background:linear-gradient(145deg,#161b2b,#0a0e1a);position:relative}.game-page:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(circle at 25px 25px,rgba(255,217,0,.1) 2%,transparent 0%),radial-gradient(circle at 75px 75px,rgba(255,51,102,.1) 2%,transparent 0%);background-size:100px 100px;pointer-events:none;z-index:0}.game-fullscreen{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;padding:0;margin:0;z-index:1000;overflow:hidden;touch-action:none}.game-container{display:flex;flex-direction:column;width:100%;height:100vh;position:relative;z-index:1;overflow:hidden}.config-selector-container{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;z-index:100;background:#1e293bf2;border-radius:20px;box-shadow:0 10px 30px #0006;border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);padding:20px}.game-board-section{flex:1;display:flex;flex-direction:column;width:100%;height:100%;position:relative;align-items:center}.game-board-container{flex:1;display:flex;justify-content:center;align-items:center;position:relative;width:100%;margin:0 auto}#game-board{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative}.game-board-grid{width:100%!important;border-radius:15px;overflow:hidden;background:#2d375f4d;box-shadow:0 8px 25px #00000040;padding:5px;border:2px solid rgba(90,120,220,.2)}.dark-mode{background:linear-gradient(145deg,#161b2b,#0a0e1a);color:#fff}.light-mode{background:linear-gradient(145deg,#f0f4f8,#d9e2ec);color:#334e68}@media (max-width: 1024px){.game-board-container{padding:0}#game-board{width:95%;margin-bottom:5px}}@media (max-width: 768px){.game-container{max-height:100vh;height:calc(var(--vh, 1vh) * 100);width:100%;padding:0}.game-board-container{padding:0;width:100%}#game-board{width:95%;margin-bottom:5px}}@media (max-width: 480px){.game-page{padding:0}.game-container{max-height:100vh}.game-board-container{padding:0}#game-board{width:95%;margin-bottom:5px}}@media (max-height: 600px) and (orientation: landscape){.game-container{max-height:100vh}.game-board-container{padding:0}#game-board{width:90%;margin-bottom:5px}}.game-info-section{flex:0 0 auto;max-height:190px;padding:15px 12px;display:flex;flex-direction:column;justify-content:space-between;background:radial-gradient(circle at center,#f363,#ff003326);border-bottom:2px solid rgba(255,255,255,.2);overflow:hidden;box-shadow:0 10px 25px #0003;border-radius:0 0 20px 20px;transition:all .3s ease;color:#fff}.game-header{display:flex;justify-content:space-between;align-items:center;width:100%;padding:8px 0;margin-bottom:8px}.game-header h1{color:#ffde59;margin:0;font-size:1.8rem;text-shadow:0 2px 10px rgba(255,222,89,.5),0 0 30px rgba(255,222,89,.3);letter-spacing:1px;font-weight:700}.game-stats{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:10px}.stat-item{background:#ff33664d;border-radius:20px;padding:8px 12px;display:flex;align-items:center;gap:8px;transition:all .3s ease;border:1px solid rgba(255,255,255,.3);box-shadow:0 4px 15px #0003}.stat-item:hover{transform:translateY(-3px);box-shadow:0 6px 20px #f366}.stat-icon{font-size:1.2rem;color:#ffde59;text-shadow:0 0 10px rgba(255,222,89,.6)}.stat-value{font-weight:700;font-size:1.1rem;color:#fff}.level-label,.score-label,.time-label{color:#ffffffe6;font-size:.9rem}.high-score-container{display:flex;align-items:center;justify-content:center;margin:10px 0}.high-score-display{background:radial-gradient(circle at center,#ffd70040,#ff8c0033);border-radius:20px;padding:8px 15px;display:flex;align-items:center;gap:10px;border:2px solid rgba(255,215,0,.3);box-shadow:0 5px 15px #0000004d;position:relative;overflow:hidden;transition:all .3s ease}.high-score-display:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(255,255,255,.2) 0%,transparent 60%);z-index:-1}.high-score-icon{font-size:1.3rem;color:#ffde59;filter:drop-shadow(0 0 10px rgba(255,215,0,.7))}.high-score-value{font-weight:700;font-size:1.2rem;color:#fff;text-shadow:0 2px 8px rgba(255,215,0,.5)}.game-control-panel{position:relative;display:flex;justify-content:space-between;align-items:center;padding:10px 15px;margin-top:10px;background:#5e35b14d;border-radius:20px;border:2px solid rgba(111,66,193,.5);box-shadow:0 5px 15px #00000040}.control-buttons{display:flex;gap:12px;justify-content:center;align-items:center}.control-btn{width:48px;height:48px;border-radius:50%;background:linear-gradient(145deg,#f36,#ff668c);border:2px solid rgba(255,255,255,.3);color:#fff;font-size:1.3rem;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #0000004d;position:relative;overflow:hidden}.control-btn.restart-btn{background:linear-gradient(145deg,#ff9d4a,#ff7714)}.control-btn.theme-btn{background:linear-gradient(145deg,#ffde59,#ffc107)}.control-btn.sound-btn{background:linear-gradient(145deg,#44c4ff,#09f)}.control-btn.help-btn{background:linear-gradient(145deg,#8c52ff,#5e35b1)}.control-btn:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;background:radial-gradient(circle at center,rgba(255,255,255,.3) 0%,transparent 70%);opacity:0;transition:opacity .3s ease}.control-btn:hover{transform:translateY(-3px);box-shadow:0 6px 12px #0006}.control-btn:hover:before{opacity:1}.control-btn:active{transform:translateY(0);box-shadow:0 2px 4px #0000004d}.help-panel{position:absolute;top:100%;right:0;background:#1e293bf2;border-radius:15px;padding:15px;margin-top:10px;max-width:300px;box-shadow:0 10px 25px #0000004d;border:2px solid rgba(255,255,255,.2);z-index:10;transform:translateY(10px);opacity:0;pointer-events:none;transition:all .3s ease}.help-panel.visible{transform:translateY(0);opacity:1;pointer-events:auto}.help-panel h3{color:#ffde59;margin-top:0;text-align:center;font-size:1.2rem}.help-panel p{color:#fff;margin:10px 0}.close-help-btn{display:block;margin:15px auto 5px;padding:8px 15px;background:linear-gradient(145deg,#f36,#ff668c);border:none;border-radius:20px;color:#fff;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 8px #0003}.close-help-btn:hover{transform:translateY(-2px);box-shadow:0 6px 12px #0000004d}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes trophy-glow{0%,to{filter:drop-shadow(0 0 5px rgba(255,215,0,.7))}50%{filter:drop-shadow(0 0 20px rgba(255,215,0,.9))}}@media (max-width: 1024px){.game-info-section{flex:0 0 22%;max-height:22%;padding:10px 8px}.game-board-container{padding:0}#game-board{width:95%;margin-bottom:5px}}@media (max-width: 768px){.game-info-section{padding:8px 6px;max-height:170px}.game-container{max-height:100vh}.game-board-container{padding:0}#game-board{width:95%;margin-bottom:5px}.game-header h1{font-size:1.2rem}}@media (max-width: 480px){.game-info-section{padding:6px 5px;max-height:150px}.game-container{max-height:100vh}.game-board-container{padding:0}#game-board{width:95%;margin-bottom:5px}.game-header h1{font-size:1rem}}@media (max-width: 360px){.game-info-section{padding:5px 4px;max-height:140px}}@media (max-height: 500px) and (orientation: landscape){.game-info-section{flex:0 0 auto;max-height:110px;padding:4px}.game-container{max-height:100vh}.game-board-container{padding:0}#game-board{width:90%;margin-bottom:5px}}@media (min-width: 1440px){.game-container{max-width:1000px}}@supports not (backdrop-filter: blur(5px)){.config-selector-container{background-color:#fffffff2}}@-moz-document url-prefix(){.game-info-section{background-color:#fffffff2}}@media not all and (min-resolution:.001dpcm){@supports (-webkit-appearance:none){.game-page{-webkit-font-smoothing:antialiased}}}@media screen and (-ms-high-contrast: active),(-ms-high-contrast: none){.game-page:before{display:none}}.light-theme .game-page{--primary-color: #2c73d2;--accent-color: #ff6b6b;--secondary-bg: #f8f9fa;--text-color: #333}.config-section{width:100%;margin-bottom:20px;padding:10px;background-color:#ffffffb3;border-radius:8px}.config-section>div{margin:0!important;width:100%}.control-button.play{background-color:#4caf50;color:#fff}.control-button.pause{background-color:#ff9800;color:#fff}.control-button.restart{background-color:#f44336;color:#fff}.dark-mode .high-score-display{background:linear-gradient(135deg,#50460033,#64500040);border:1px solid rgba(155,135,0,.2)}.dark-mode .high-score-icon{color:#ffd54f}.dark-mode .high-score-value{color:#ffb74d}@media (max-width: 768px){.high-score-container{margin:6px 0}.high-score-display{padding:5px 14px}.high-score-icon{font-size:1.1rem;margin-right:6px}.high-score-value{font-size:1rem}}@media (max-width: 480px){.high-score-container{margin:5px 0}.high-score-display{padding:4px 12px;max-width:85%}.high-score-icon{font-size:1rem;margin-right:5px}.high-score-value{font-size:.95rem}}@media (max-width: 320px){.control-btn{width:28px;height:28px;font-size:.9rem}.control-buttons{gap:5px}.high-score-display{padding:1px 4px}.high-score-icon{font-size:.8rem;margin-right:2px}.high-score-value{font-size:.7rem}}@media (max-height: 500px) and (orientation: landscape){.game-control-panel{padding:2px 4px;margin:2px 0}.control-buttons{max-width:100%}.control-btn{width:28px;height:28px;font-size:.9rem}}@media (max-width: 480px){.high-score-display{padding:5px 10px;margin-left:8px}.high-score-icon{font-size:1.1rem;margin-right:5px}.high-score-value{font-size:1rem}.game-control-panel{padding:10px;margin:8px 0}.control-btn{width:40px;height:40px;font-size:1.2rem}.control-buttons{gap:10px}.help-panel{padding:12px;margin-top:10px;max-width:280px}.help-panel h3{font-size:1rem;margin-bottom:8px}.help-panel p{font-size:.85rem;margin:6px 0}.close-help-btn{padding:5px 10px;font-size:.8rem}.stat-item{padding:8px 12px;min-width:70px}.stat-icon{font-size:1.2rem;margin-bottom:4px}.stat-value{font-size:1.1rem;margin-bottom:2px}}@media (max-width: 360px){.control-buttons{gap:8px}.high-score-display{padding:4px 8px;margin-left:6px}.high-score-icon{font-size:1rem;margin-right:4px}.high-score-value{font-size:.9rem}.game-control-panel{padding:8px;margin:5px 0}.control-buttons{gap:10px}.control-btn{width:38px;height:38px;font-size:1.1rem}}@media (max-height: 500px) and (orientation: landscape){.game-control-panel{padding:8px;margin:5px 0}.control-buttons{gap:10px}.control-btn{width:38px;height:38px;font-size:1.1rem}}.fps-detection-loader{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#000000d9;z-index:9999;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px)}.loader-content{display:flex;flex-direction:column;align-items:center;gap:20px;color:#fff;max-width:80%;text-align:center}.loader-spinner{width:50px;height:50px;border:5px solid rgba(255,255,255,.1);border-top-color:#5272e4;border-radius:50%;animation:spinner 1s linear infinite}@keyframes spinner{to{transform:rotate(360deg)}}.loader-content p{font-size:1.2rem;margin:0;text-shadow:0 0 10px rgba(0,0,0,.7)}@media (max-width: 480px){.loader-spinner{width:40px;height:40px;border-width:4px}.loader-content p{font-size:1rem}}:root{--pause-primary-bg: #2a3c8f;--pause-secondary-bg: #253a8a;--pause-dark-bg: #1e2f78;--pause-title-color: #7bafff;--pause-text-color: #ffffff;--pause-secondary-text: rgba(255, 255, 255, .9);--pause-card-bg: rgba(255, 255, 255, .1);--pause-resume-button-bg-start: #3bb54a;--pause-resume-button-bg-end: #36a844;--pause-secondary-button-bg: rgba(255, 255, 255, .15);--pause-button-shadow: 0 4px 10px rgba(0, 0, 0, .2);--pause-card-shadow: 0 3px 8px rgba(0, 0, 0, .15);--pause-transition: all .3s ease;--vh: 1vh}.game-modal.fullscreen-modal{position:fixed;top:0;left:0;width:100vw;height:100vh;height:calc(var(--vh, 1vh) * 100);background-color:#000000bf;display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;visibility:hidden;transition:var(--pause-transition);padding:15px;box-sizing:border-box;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);overflow:auto}.game-modal.fullscreen-modal.visible{opacity:1;visibility:visible}.game-modal.fullscreen-modal.closing{opacity:0}.modal-content.pause-content{background-color:var(--pause-primary-bg);width:100%;max-width:370px;max-height:calc(100vh - 30px);max-height:calc(var(--vh, 1vh) * 100 - 30px);border-radius:24px;box-shadow:0 0 30px #00000080,inset 0 0 1px #fff3;overflow:hidden;display:flex;flex-direction:column;padding:0;position:relative;transform:translateY(20px);transition:var(--pause-transition);border:1px solid rgba(255,255,255,.2);margin:auto}.game-modal.fullscreen-modal.visible .modal-content.pause-content{transform:translateY(0)}.pause-header{padding:20px 20px 15px;text-align:center;background-color:var(--pause-dark-bg);border-bottom:1px solid rgba(255,255,255,.1)}.pause-header h1{margin:0 0 8px;font-size:32px;color:var(--pause-title-color);font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.3);letter-spacing:.5px}.pause-header h2{margin:0;font-size:18px;color:var(--pause-text-color);font-weight:400}.pause-body{padding:20px;display:flex;flex-direction:column;overflow-y:auto;-webkit-overflow-scrolling:touch;background-color:var(--pause-secondary-bg)}.game-status-info{display:flex;flex-direction:column;gap:15px}.info-row{display:flex;justify-content:space-between;align-items:center;background-color:var(--pause-card-bg);border-radius:12px;padding:14px 16px;box-shadow:var(--pause-card-shadow);position:relative;overflow:hidden}.info-row:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,rgba(255,255,255,.1),transparent);pointer-events:none}.info-label{font-size:16px;color:var(--pause-secondary-text);font-weight:500;letter-spacing:.3px}.info-value{font-size:18px;font-weight:700;color:var(--pause-text-color);text-shadow:0 1px 2px rgba(0,0,0,.2)}.pause-buttons{padding:20px;display:flex;flex-direction:column;gap:20px;background-color:var(--pause-secondary-bg)}.pause-button{color:#fff;border:none;border-radius:50px;padding:14px 20px;font-size:18px;font-weight:700;cursor:pointer;transition:var(--pause-transition);display:flex;align-items:center;justify-content:center;gap:10px;position:relative;overflow:hidden;text-shadow:0 1px 2px rgba(0,0,0,.2);letter-spacing:.5px}.resume-button{background:linear-gradient(to bottom,var(--pause-resume-button-bg-start),var(--pause-resume-button-bg-end));border:2px solid rgba(255,255,255,.2);box-shadow:var(--pause-button-shadow);width:100%}.resume-button:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:.5s}.resume-button:hover{transform:translateY(-3px);box-shadow:0 6px 15px #00000040}.resume-button:hover:before{left:100%}.resume-button:active{transform:translateY(1px);box-shadow:0 2px 5px #0003}.secondary-buttons{display:flex;justify-content:space-between;gap:12px}.pause-button.secondary{background-color:var(--pause-secondary-button-bg);border:1px solid rgba(255,255,255,.15);box-shadow:0 2px 5px #0000001a;flex:1;padding:12px 8px;font-size:14px;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.pause-button.secondary:hover{transform:translateY(-2px);background-color:#ffffff40;box-shadow:0 4px 8px #00000026}.pause-button.secondary:active{transform:translateY(1px);box-shadow:0 1px 3px #0000001a}@media (max-width: 480px){.pause-header{padding:16px 16px 12px}.pause-header h1{font-size:28px}.pause-header h2{font-size:16px}.pause-body{padding:15px}.game-status-info{gap:10px}.info-row{padding:12px 14px}.info-label{font-size:15px}.info-value{font-size:16px}.pause-buttons{padding:15px;gap:15px}.resume-button{padding:12px 18px;font-size:16px}.secondary-buttons{gap:8px}.pause-button.secondary{padding:10px 6px;font-size:13px}}@media (max-height: 700px){.game-modal.fullscreen-modal{align-items:flex-start;padding:10px}.modal-content.pause-content{max-height:calc(100vh - 20px);max-height:calc(var(--vh, 1vh) * 100 - 20px);margin:10px auto}.pause-header{padding:15px 15px 10px}.pause-header h1{font-size:26px;margin-bottom:5px}.pause-header h2{font-size:15px}.pause-body{padding:12px}.info-row{padding:10px 12px}.pause-buttons{padding:12px;gap:12px}.resume-button{padding:10px 15px;font-size:16px}.pause-button.secondary{padding:8px 5px;font-size:12px}}@media (max-height: 600px){.game-modal.fullscreen-modal{padding:8px}.modal-content.pause-content{max-height:calc(100vh - 16px);max-height:calc(var(--vh, 1vh) * 100 - 16px);margin:8px auto;border-radius:18px}.pause-header{padding:12px 12px 8px}.pause-header h1{font-size:24px;margin-bottom:4px}.pause-header h2{font-size:14px}.pause-body{padding:10px}.game-status-info{gap:8px}.info-row{padding:8px 10px;border-radius:10px}.info-label{font-size:14px}.info-value{font-size:15px}.pause-buttons{padding:10px;gap:10px}.resume-button{padding:10px 12px;font-size:15px}.secondary-buttons{gap:6px}.pause-button.secondary{padding:8px 4px;font-size:11px}}@media (max-width: 350px){.pause-header h1{font-size:22px}.pause-header h2,.info-label{font-size:13px}.info-value,.resume-button{font-size:14px}.pause-button.secondary{padding:8px 3px;font-size:10px}}@supports (-webkit-touch-callout: none){.game-modal.fullscreen-modal{height:-webkit-fill-available}.modal-content.pause-content{max-height:calc(-webkit-fill-available - 30px)}@media (max-height: 700px){.modal-content.pause-content{max-height:calc(-webkit-fill-available - 20px)}}@media (max-height: 600px){.modal-content.pause-content{max-height:calc(-webkit-fill-available - 16px)}}}.game-loading-screen{position:fixed;top:0;left:0;width:100%;height:100vh;display:flex;align-items:center;justify-content:center;background-color:var(--space-bg-dark, #020818);z-index:9999;overflow:hidden}.game-loading-screen:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(2px 2px at 20px 30px,#ffffffe6,#0000),radial-gradient(2px 2px at 40px 70px,#ffffffe6,#0000),radial-gradient(2px 2px at 50px 160px,#ffffffe6,#0000),radial-gradient(3px 3px at 70px 80px,#ffffffe6,#0000),radial-gradient(2px 2px at 90px 40px,#ffffffe6,#0000),radial-gradient(2px 2px at 110px 90px,#ffffffe6,#0000),radial-gradient(2px 2px at 130px 160px,#ffffffe6,#0000),radial-gradient(3px 3px at 150px 100px,#ffffffe6,#0000);background-repeat:repeat;background-size:200px 200px;opacity:.3;animation:twinkleAnimation 10s linear infinite;z-index:-1}.game-loading-screen:after{content:"";position:absolute;top:-50%;left:-50%;right:-50%;bottom:-50%;background:radial-gradient(circle at 20% 35%,rgba(223,72,172,.25),transparent 25%),radial-gradient(circle at 75% 44%,rgba(86,156,214,.25),transparent 30%),radial-gradient(circle at 46% 65%,rgba(255,140,66,.15),transparent 30%);opacity:.4;z-index:-1;animation:nebulaAnimation 60s ease-in-out infinite alternate}.loading-content{display:flex;flex-direction:column;align-items:center;text-align:center;max-width:90%;padding:30px;background:#061128cc;border-radius:20px;box-shadow:0 0 30px #5272e44d;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);animation:fadeIn .6s ease-out}.loading-content h2{font-size:3rem;margin-bottom:20px;color:#fff;text-shadow:0 0 15px rgba(82,114,228,.7);animation:glow 2s ease-in-out infinite alternate}.loading-spinner{width:60px;height:60px;border:5px solid rgba(255,255,255,.1);border-top-color:#5272e4;border-radius:50%;margin:20px 0;animation:spin 1s linear infinite}.loading-message{font-size:1.2rem;margin:20px 0;color:#fff;text-shadow:0 0 5px rgba(0,0,0,.5)}.loading-progress-container{width:300px;height:12px;background:#0003;border-radius:10px;overflow:hidden;margin:10px 0 20px;box-shadow:0 0 10px #0000004d inset}.loading-progress-bar{height:100%;background:linear-gradient(90deg,#4776ff,#7a9bf8);border-radius:10px;transition:width .5s ease;box-shadow:0 0 15px #5272e480}.loading-error{margin-top:20px;padding:10px 20px;background:#ff323233;border:1px solid #ff3232;border-radius:5px;color:#faa}@keyframes glow{0%{text-shadow:0 0 10px rgba(82,114,228,.7)}to{text-shadow:0 0 20px rgba(82,114,228,1),0 0 30px rgba(82,114,228,.7)}}@keyframes spin{to{transform:rotate(360deg)}}@keyframes twinkleAnimation{0%{background-position:0 0}to{background-position:200px 200px}}@keyframes nebulaAnimation{0%{transform:rotate(0) scale(1)}50%{transform:rotate(5deg) scale(1.05)}to{transform:rotate(0) scale(1)}}@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.loading-content h2{font-size:2.5rem}.loading-progress-container{width:250px}}@media (max-width: 480px){.loading-content h2{font-size:2rem}.loading-spinner{width:50px;height:50px}.loading-progress-container{width:200px}.loading-message{font-size:1rem}}
